webpackJsonp([1],{"+skl":function(e,t){},"2sr0":function(e,t){},"5mQY":function(e,t){},"8KzK":function(e,t){},CyMa:function(e,t){},DEir:function(e,t){},DhxV:function(e,t){},G3Rh:function(e,t){},LzdZ:function(e,t){},N60e:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=r("VU/8")({name:"App"},n,!1,function(e){r("TRmd")},null,null).exports,i=r("NYxO"),o=r("gRE1"),c=r.n(o),u=r("woOf"),l=r.n(u),p=r("Xxa5"),d=r.n(p),m=r("exGp"),f=r.n(m),h={state:{childAccount:{},userDownLines:{},allChildAccount:[],mySelf:{},eventsLog:{}},getters:{myId:function(e){return e.mySelf.id},myName:function(e){return e.mySelf.name},emailVerified:function(e){return e.mySelf.email_verified},eventsLog:function(e){return e.eventsLog},childAccount:function(e){return e.childAccount.data},self:function(e){return e.mySelf},downlines:function(e){return e.userDownLines.downlines},allChildAccount:function(e){return e.allChildAccount},allUsers:function(e){var t={};return t[""+e.mySelf.id]=e.mySelf,e.allChildAccount.forEach(function(e){t[e.id]=e}),e.userDownLines&&e.userDownLines.downlines&&e.userDownLines.downlines.forEach(function(e){t[e.id]=e}),c()(t).filter(function(e){return!e.activated})}},mutations:{myName:function(e,t){e.mySelf.name=t},IAm:function(e,t){e.mySelf=t},allChildAccount:function(e,t){e.allChildAccount=t},setChildAccount:function(e,t){e.childAccount=t},setUserDownLines:function(e,t){e.userDownLines=t},eventsLog:function(e,t){e.eventsLog=t}},actions:{allChildAccount:function(e){var t=this,r=e.dispatch,a=e.commit,n=e.getters;return f()(d.a.mark(function e(){var s,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.myId,e.next=3,r("GET","/api/users/"+s+"/child-accounts?hello=world&activated=1");case 3:i=e.sent,a("allChildAccount",i);case 5:case"end":return e.stop()}},e,t)}))()},goToChildAccountPage:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=e.getters,i=t.nextIndex;return f()(d.a.mark(function e(){var t,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,t=s.myId,e.next=4,a("GET","/api/users/"+t+"/child-accounts?page="+i);case 4:return o=e.sent,e.next=7,a("accountAndWallet",{array:o.data});case 7:o.data=e.sent,n("setChildAccount",o);case 9:case"end":return e.stop()}},e,r)}))()},addChildAccount:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=e.getters,i=t.data;return f()(d.a.mark(function e(){var t,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.myId,e.next=3,a("POST",{data:i,path:"/api/users/"+t+"/child-accounts"});case 3:return o=e.sent,e.next=6,a("accountAndWallet",{array:o.data});case 6:o.data=e.sent,n("setChildAccount",o);case 8:case"end":return e.stop()}},e,r)}))()},userDownLines:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=t.idUser;return f()(d.a.mark(function e(){var t,i,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("GET","/api/users/"+s);case 2:return t=e.sent,i=[],t.downlines.forEach(function(){var e=f()(d.a.mark(function e(t){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("allTreeStatus",{id:t.id});case 2:n=e.sent,i.push(l()({},t,n));case 4:case"end":return e.stop()}},e,r)}));return function(t){return e.apply(this,arguments)}}()),t.downlines=i,e.next=8,a("allTreeStatus",{id:t.id});case 8:o=e.sent,n("setUserDownLines",l()({},t,o));case 10:case"end":return e.stop()}},e,r)}))()},childAccountWallet:function(e,t){var r=this,a=e.dispatch,n=(e.commit,t.idUser);return f()(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("GET","/api/users/"+n+"/wallets?page=1");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,r)}))()},accountAndWallet:function(e,t){var r,a=this,n=e.dispatch,s=(e.commit,t.array);if(void 0!==s&&"Array"===s.constructor.name){var i=[];return s.forEach((r=f()(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("childAccountWallet",{idUser:t.id});case 2:e.sent.data.forEach(function(e){t["gem"+e.gem]=t.activated?e.amount:""}),i.push(l()({},t));case 5:case"end":return e.stop()}},e,a)})),function(e){return r.apply(this,arguments)})),i}return[]},whoAmI:function(e){var t=this,r=e.dispatch,a=e.commit;return f()(d.a.mark(function e(){var n,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("GET","/api/users/me");case 2:return n=e.sent,e.next=5,r("allTreeStatus",{id:n.id});case 5:s=e.sent,a("IAm",l()({},n,s));case 7:case"end":return e.stop()}},e,t)}))()},getOnlyMe:function(e){var t=this,r=e.dispatch,a=e.commit;return f()(d.a.mark(function e(){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("GET","/api/users/me");case 2:n=e.sent,a("IAm",l()({},n));case 4:case"end":return e.stop()}},e,t)}))()},modifyMyName:function(e){var t=this,r=e.dispatch,a=e.commit,n=e.getters;return f()(d.a.mark(function e(){var s,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.myId,e.next=3,r("PUT",{path:"/api/users/"+s,data:{name:n.myName}});case 3:i=e.sent,a("myName",i.name);case 5:case"end":return e.stop()}},e,t)}))()},allTreeStatus:function(e,t){return(0,e.dispatch)("GET","/api/users/"+t.id+"/tree-stats")},EventsLog:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=e.getters,i=t.nextIndex,o=t.searchParams;return f()(d.a.mark(function e(){var t,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,t=s.myId,(o=o||new URLSearchParams).append("page",""+i),e.next=6,a("GET","/api/users/"+t+"/operation-histories?"+o.toString());case 6:c=e.sent,n("eventsLog",c);case 8:case"end":return e.stop()}},e,r)}))()},Recall:function(e){var t=this,r=e.dispatch,a=e.getters;return f()(d.a.mark(function e(){var n,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.myId,s="/api/users/"+n+"/recalls",e.next=4,r("POST",{path:s});case 4:r("goToChildAccountPage",{nextIndex:1});case 5:case"end":return e.stop()}},e,t)}))()}}},g=r("Dd8w"),v=r.n(g),w=r("mtWM"),_=r.n(w),x=r("Y4FN"),y=r.n(x),k={CreateUser:function(e,t){var r=this,a=(e.dispatch,e.getters);return f()(d.a.mark(function e(){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={Accept:"application/json","Content-Type":"application/json"},e.next=3,_.a.post(a.host+"/api/users",t,{headers:n});case 3:case"end":return e.stop()}},e,r)}))()},Login:function(e,t){var r=this,a=(e.dispatch,e.commit),n=e.getters,s=t.name,i=t.password;return f()(d.a.mark(function e(){var t,o,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json"},o={grant_type:"password",username:s,password:i,client_id:"2",client_secret:""+n.secret},e.next=4,_.a.post(n.host+"/oauth/token",o,{headers:t});case 4:c=e.sent,y.a.set("dgemToken",c.data),a("token",c.data);case 7:case"end":return e.stop()}},e,r)}))()},Logout:function(e){(0,e.commit)("token",{access_token:"",token_type:""})},LoginQRcode:function(e){var t=this,r=(e.dispatch,e.commit),a=e.getters;return f()(d.a.mark(function e(){var n,s,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json"},s={grant_type:"qrcode",id:""+a.qrcodeUser.id,password:""+a.qrcodeUser.password,client_id:"2",client_secret:""+a.secret},e.next=4,_.a.post(a.host+"/oauth/token",s,{headers:n});case 4:i=e.sent,y.a.set("dgemToken",i.data),r("token",i.data);case 7:case"end":return e.stop()}},e,t)}))()},CreateQRcode:function(e){var t=this,r=e.commit,a=e.getters;return f()(d.a.mark(function e(){var n,s,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={Accept:"application/json"},s={id:10,password:"h%1`2{A/A",qrcode_url:"https://uim.dreamsgem.net/applets?action=/applets/dreamsgem/auth/scan-login/10"},e.next=4,_.a.post(a.host+"/api/qrcodes",s,{headers:n});case 4:i=e.sent,r("setQRcodeData",i.data);case 6:case"end":return e.stop()}},e,t)}))()},GET:function(e,t){var r=this,a=e.getters;return f()(d.a.mark(function e(){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get(""+a.host+t,{headers:v()({},a.headers)});case 2:if(200!==(n=e.sent).status){e.next=7;break}return e.abrupt("return",n.data);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}},e,r)}))()},POST:function(e,t){var r=this,a=e.getters,n=t.path,s=t.data;return f()(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post(""+a.host+n,s,{headers:v()({},a.headers,{"Content-Type":"application/json"})});case 2:if(200!==(t=e.sent).status){e.next=7;break}return e.abrupt("return",t.data);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e,r)}))()},PUT:function(e,t){var r=this,a=e.getters,n=t.path,s=t.data;return f()(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.put(""+a.host+n,s,{headers:v()({},a.headers,{"Content-Type":"application/json"})});case 2:if(200!==(t=e.sent).status){e.next=7;break}return e.abrupt("return",t.data);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e,r)}))()}},b={state:{allDragon:{},dragon:{},activeDragon:{}},getters:{allDragon:function(e){return e.allDragon.data},dragon:function(e){return e.dragon.data},activeDragon:function(e){return e.activeDragon.data}},mutations:{setAllDragonList:function(e,t){e.allDragon=t},setDragonList:function(e,t){e.dragon=t},setActiveDragonList:function(e,t){e.activeDragon=t}},actions:{buyDragon:function(e,t){var r=this,a=e.dispatch,n=t.data;return f()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("POST",{path:"/api/dragons",data:n});case 2:case"end":return e.stop()}},e,r)}))()},activateDragon:function(e,t){var r=this,a=e.dispatch,n=t.idDragon,s=t.data;return f()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("PUT",{path:"/api/dragons/"+n,data:s});case 2:case"end":return e.stop()}},e,r)}))()},goToAllDragonPage:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=t.nextIndex;return f()(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=s||1,e.next=3,a("GET","/api/dragons?page="+s);case 3:t=e.sent,n("setAllDragonList",t);case 5:case"end":return e.stop()}},e,r)}))()},goToDragonPage:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=e.getters,i=t.nextIndex;return f()(d.a.mark(function e(){var t,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,t=s.myId,e.next=4,a("GET","/api/dragons?owner_id="+t+"&activated=0&page="+i);case 4:o=e.sent,n("setDragonList",o);case 6:case"end":return e.stop()}},e,r)}))()},goToActiveDragonPage:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=e.getters,i=t.nextIndex;return f()(d.a.mark(function e(){var t,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,t=s.myId,e.next=4,a("GET","/api/dragons?user_id="+t+"&page="+i);case 4:o=e.sent,n("setActiveDragonList",o);case 6:case"end":return e.stop()}},e,r)}))()}}},$={state:{tree:{},activeTree:{},availTreeType:[]},getters:{tree:function(e){return e.tree.data},activeTree:function(e){return e.activeTree.data},availTreeType:function(e){return e.availTreeType}},mutations:{setTreeList:function(e,t){e.tree=t},setActiveTreeList:function(e,t){e.activeTree=t},setAvailTreeType:function(e,t){e.availTreeType=t}},actions:{buyTree:function(e,t){var r=this,a=e.dispatch,n=e.getters,s=t.data;return f()(d.a.mark(function e(){var t,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.myId,i="/api/users/"+t+"/trees",e.next=4,a("POST",{path:i,data:s});case 4:case"end":return e.stop()}},e,r)}))()},activateTree:function(e,t){var r=this,a=e.dispatch,n=e.getters,s=t.idTree,i=t.data;return f()(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.myId,e.next=3,a("PUT",{path:"/api/users/"+t+"/trees/"+s,data:i});case 3:case"end":return e.stop()}},e,r)}))()},setAvailTreeType:function(e){var t=this,r=e.getters,a=e.dispatch,n=e.commit;return f()(d.a.mark(function e(){var s,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.myId,e.next=3,a("GET","/api/users/"+s+"/available-tree-types");case 3:i=e.sent,n("setAvailTreeType",i);case 5:case"end":return e.stop()}},e,t)}))()},goToTreePage:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=e.getters,i=t.nextIndex;return f()(d.a.mark(function e(){var t,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,t=s.myId,e.next=4,a("GET","/api/users/"+t+"/trees?owner_id="+t+"&activated=0&page="+i);case 4:o=e.sent,n("setTreeList",o);case 6:case"end":return e.stop()}},e,r)}))()},goToActiveTreePage:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=e.getters,i=t.nextIndex;return f()(d.a.mark(function e(){var t,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,t=s.myId,e.next=4,a("GET","/api/users/"+t+"/trees?user_id="+t+"&page="+i+"&remain_available=1");case 4:o=e.sent,n("setActiveTreeList",o);case 6:case"end":return e.stop()}},e,r)}))()}}},T={state:{wallet:{},walletLog:{},walletTransferMap:{},walletTransferRate:{},walletTransferList:{}},getters:{wallet:function(e){return e.wallet.data},walletLog:function(e){return e.walletLog},idUsdWallet:function(e,t){return t.isExist("wallet","wallet")?e.wallet.data.filter(function(e){return 4===e.gem}).shift().id:0},walletTransferMap:function(e){return e.walletTransferMap},walletTransferRate:function(e){return e.walletTransferRate},walletTransferList:function(e){return e.walletTransferList}},mutations:{setWallet:function(e,t){e.wallet=t},walletLog:function(e,t){e.walletLog=t},setWalletTransferMap:function(e,t){e.walletTransferMap=t},setWalletTransferRate:function(e,t){e.walletTransferRate=t},setWalletTransferList:function(e,t){e.walletTransferList=t}},actions:{WalletPage:function(e){var t=this,r=e.dispatch,a=e.commit,n=e.getters;return f()(d.a.mark(function e(){var s,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.myId,e.next=3,r("GET","/api/users/"+s+"/wallets?page=1");case 3:i=e.sent,a("setWallet",i);case 5:case"end":return e.stop()}},e,t)}))()},TransferUSD:function(e,t){var r=this,a=e.dispatch,n=e.getters,s=t.data;return f()(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.idUsdWallet,e.next=3,a("POST",{path:"/api/wallets/"+t+"/transfers",data:s});case 3:case"end":return e.stop()}},e,r)}))()},WalletLog:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=e.getters,i=t.nextIndex,o=t.searchParams;return f()(d.a.mark(function e(){var t,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,t=s.myId,(o=o||new URLSearchParams).append("page",""+i),e.next=6,a("GET","/api/users/"+t+"/operation-histories?"+o.toString());case 6:c=e.sent,n("walletLog",c);case 8:case"end":return e.stop()}},e,r)}))()},UpdateWalletPwd:function(e,t){var r=this,a=e.dispatch,n=e.getters,s=t.data;return f()(d.a.mark(function e(){var t,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.myId,i="/api/users/"+t,e.prev=2,e.next=5,a("PUT",{path:i,data:s});case 5:return e.abrupt("return","success");case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return","fail");case 11:case"end":return e.stop()}},e,r,[[2,8]])}))()},UpdateWalletAddr:function(e,t){var r=this,a=e.dispatch,n=e.getters,s=t.walletIndex,i=t.data;return f()(d.a.mark(function e(){var t,o,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.myId,o=n.wallet[s].id,c="/api/users/"+t+"/wallets/"+o,e.prev=3,e.next=6,a("PUT",{path:c,data:i});case 6:return e.abrupt("return","success");case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return","fail");case 12:case"end":return e.stop()}},e,r,[[3,9]])}))()},WalletTransferMap:function(e){var t=this,r=e.dispatch,a=e.commit;return f()(d.a.mark(function e(){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("GET","/api/wallet-transfer-map");case 2:n=e.sent,a("setWalletTransferMap",n);case 4:case"end":return e.stop()}},e,t)}))()},WalletTransferRate:function(e){var t=this,r=e.dispatch,a=e.commit;return f()(d.a.mark(function e(){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("GET","/api/wallet-transfer-rate");case 2:n=e.sent,a("setWalletTransferRate",n);case 4:case"end":return e.stop()}},e,t)}))()},ApplyWalletTransfer:function(e,t){var r=this,a=e.dispatch,n=(e.commit,t.mainGemValue),s=t.data;return f()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("POST",{path:"/api/gems/"+n+"/wallet-transfer-applications",data:s});case 2:case"end":return e.stop()}},e,r)}))()},GetWalletTransferList:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=t.mainGemValue,i=t.nextIndex,o=t.searchParams;return f()(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,(o=o||new URLSearchParams).append("page",""+i),e.next=5,a("GET","/api/gems/"+s+"/wallet-transfer-applications?"+o.toString());case 5:t=e.sent,n("setWalletTransferList",t);case 7:case"end":return e.stop()}},e,r)}))()}}};a.default.use(i.a);var I=new i.a.Store({state:{host:"https://staging.dreamsgemdragon.com",token:"",token_type:"",qrCode:{},secret:"vZ08ruaFRkqnDgzWJhnUImmIBtNON19YAzdKWSRF"},getters:{isExist:function(e){return function(t,r){return!!e[t][r].data&&"Array"===e[t][r].data.constructor.name}},isLogin:function(e){return 0!==e.token.length},token:function(e){return e.token},host:function(e){return e.host},secret:function(e){return e.secret},paging:function(e){return function(t,r){return{total:e[t][r].total,pre_page:e[t][r].per_page,curr_page:e[t][r].current_page}}},headers:function(e){return{Accept:"application/json",Authorization:e.token_type+" "+e.token}},gems:function(){return["七彩寶石","多喜寶石","多福寶石","多財寶石","夢寶積分"]},qrcode:function(e){return e.qrCode.qrcode_url},qrcodeUser:function(e){return e.qrCode}},mutations:{token:function(e,t){e.token=t.access_token,e.token_type=t.token_type},setQRcodeData:function(e,t){e.qrCode=t}},actions:k,modules:{user:h,dragon:b,tree:$,wallet:T}}),P=r("/ocq"),U=this,A={data:function(){return{isCollapsed:!1}},computed:{isFunctionEnabel:function(){return!this.$store.getters.self.is_child_account},menuitemClasses:function(){return["menu-item",U.isCollapsed?"collapsed-menu":""]},userHeadUpDisplay:function(){return""+this.$store.getters.self.name}},methods:{logOut:function(){this.$store.dispatch("Logout"),y.a.remove("dgemToken"),this.$router.push("/Login")}}},S={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"layout"},[r("Layout",[r("Sider",{attrs:{breakpoint:"md",collapsible:"","collapsed-width":78},model:{value:e.isCollapsed,callback:function(t){e.isCollapsed=t},expression:"isCollapsed"}},[r("Menu",{class:e.menuitemClasses,attrs:{"active-name":"2-1",theme:"dark",width:"auto"}},[r("Submenu",{attrs:{name:"2"}},[r("template",{slot:"title"},[r("Icon",{attrs:{type:"person"}}),e._v("\n                      個人中心\n                  ")],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/userProfile"}}},[r("MenuItem",{attrs:{name:"2-1"}},[e._v("基本資料")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/ChildAccount"}}},[r("MenuItem",{attrs:{name:"2-2"}},[e._v("子母帳號")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/notStart"}}},[r("MenuItem",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{name:"2-4"}},[e._v("夢想卡解涷")])],1)],2),e._v(" "),r("Submenu",{attrs:{name:"3"}},[r("template",{slot:"title"},[r("Icon",{attrs:{type:"leaf"}}),e._v("\n                      夢寶龍樹種區\n                  ")],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/Dragon"}}},[r("MenuItem",{directives:[{name:"show",rawName:"v-show",value:e.isFunctionEnabel,expression:"isFunctionEnabel"}],attrs:{name:"3-2"}},[e._v("夢寶龍激活")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/Tree"}}},[r("MenuItem",{directives:[{name:"show",rawName:"v-show",value:e.isFunctionEnabel,expression:"isFunctionEnabel"}],attrs:{name:"3-3"}},[e._v("夢寶樹激活")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/EventsLog"}}},[r("MenuItem",{attrs:{name:"3-4"}},[e._v("操作明細查詢")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/Activating"}}},[r("MenuItem",{attrs:{name:"3-5"}},[e._v("開採狀況")])],1)],2),e._v(" "),r("Submenu",{attrs:{name:"4"}},[r("template",{slot:"title"},[r("Icon",{attrs:{type:"bag"}}),e._v("\n                      寶石卡片管理\n                  ")],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/Wallet"}}},[r("MenuItem",{attrs:{name:"4-1"}},[e._v("寶石庫存")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/WalletLog"}}},[r("MenuItem",{attrs:{name:"4-2"}},[e._v("進出明細")])],1),e._v(" "),r("Submenu",{attrs:{name:"4-3"}},[r("template",{slot:"title"},[e._v("\n                      寶石轉換\n                      ")]),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/TransferGems/0"}}},[r("MenuItem",{attrs:{name:"4-3-1"}},[e._v("七彩寶石轉換")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/notStart"}}},[r("MenuItem",{attrs:{name:"4-3-2"}},[e._v("多喜寶石轉換")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/notStart"}}},[r("MenuItem",{directives:[{name:"show",rawName:"v-show",value:e.isFunctionEnabel,expression:"isFunctionEnabel"}],attrs:{name:"4-3-3"}},[e._v("多福寶石轉換")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/TransferGems/3"}}},[r("MenuItem",{directives:[{name:"show",rawName:"v-show",value:e.isFunctionEnabel,expression:"isFunctionEnabel"}],attrs:{name:"4-3-4"}},[e._v("多財寶石轉換")])],1)],2)],2),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/Group"}}},[r("MenuItem",{attrs:{name:"5-1"}},[r("Icon",{attrs:{type:"person-stalker"}}),e._v("\n                家族開採狀況\n              ")],1)],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/TransferUSD"}}},[r("MenuItem",{directives:[{name:"show",rawName:"v-show",value:e.isFunctionEnabel,expression:"isFunctionEnabel"}],attrs:{name:"6-1"}},[r("Icon",{attrs:{type:"social-usd"}}),e._v("\n                夢寶積分轉出\n              ")],1)],1)],1),e._v(" "),r("div",{attrs:{slot:"trigger"},slot:"trigger"})],1),e._v(" "),r("Layout",[r("Header",{staticClass:"layout-header-bar"},[r("span",{staticClass:"user-name"},[e._v(e._s(e.userHeadUpDisplay))]),e._v(" "),r("Button",{staticClass:"logout-button",attrs:{type:"primary"},on:{click:function(t){e.logOut()}}},[e._v("登出")])],1),e._v(" "),r("Content",{style:{padding:"20px",minHeight:"220px"}},[r("keep-alive",[r("router-view")],1)],1)],1)],1)],1)},staticRenderFns:[]};var W=r("VU/8")(A,S,!1,function(e){r("aQVV")},null,null).exports,L={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"noStart"},[this._v("\n  此帳號目前尚未驗證。\n")])},staticRenderFns:[]};var C=r("VU/8")({},L,!1,function(e){r("RQrw")},null,null).exports,G={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"noStart"},[this._v("\n  Comming soon...\n")])},staticRenderFns:[]};var E=r("VU/8")({},G,!1,function(e){r("SWKE")},null,null).exports,D={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h4",[this._v("我的夢寶積分")]),this._v(" "),t("span",{staticClass:"currUSD"},[this._v(this._s(this.currUSD))]),this._v("點\n")])},staticRenderFns:[]};var M=r("VU/8")({computed:{currUSD:function(){return this.$store.getters.isExist("wallet","wallet")?this.$store.getters.wallet.filter(function(e){return 4===e.gem}).pop().amount:0}}},D,!1,function(e){r("5mQY")},"data-v-6b7317a9",null).exports,R={components:{CurrUsdWallet:M},data:function(){var e=this;return{dragonType:{0:"夢寶龍",1:"小夢寶龍"},columns1:[{title:"ID",key:"id",width:100},{title:"夢寶龍種類",key:"dragon_type",width:100},{title:"夢寶龍的擁有者",key:"owner_name",minWidth:150},{title:"夢寶龍激活對象",key:"user_name",minWidth:150},{title:"選擇激活對象",key:"operate",width:200,render:function(t,r){return t("div",[t("Dropdown",{props:{trigger:"click"},class:"defaultStyle",on:{"on-click":function(t){r.row.operate=e.dropdownItems.filter(function(e){return e.id===t}).shift()}}},[t("span",[r.row.operate.id+" "+r.row.operate.name+" ",t("Icon",{props:{type:"arrow-down-b"},style:{marginRight:"5px"}})]),t("DropdownMenu",{slot:"list"},e.dropdownItems.sort(function(e,t){return e.id-t.id}).map(function(e){return t("DropdownItem",{props:{name:e.id,disabled:r.row.activated}},e.id+" "+e.name)}))])])}},{title:"動作",key:"action",width:150,align:"center",render:function(t,r){return t("div",[t("Button",{props:{type:"primary",size:"small",disabled:r.row.activated},on:{click:function(){var t=r.row.id;e.activate({data:{user_id:r.row.operate.id},idDragon:t})}}},"激活")])}}]}},computed:{dragon:function(){var e=this;return this.$store.getters.isExist("dragon","dragon")?this.$store.getters.dragon.map(function(t){return t.owner_name=t.owner&&t.owner.name||"未指定",t.dragon_type=e.dragonType[t.type],t.user_name=t.user&&t.user.name||"未指定",t.operate={id:"",name:"選一個對象"},t}):[]},paging:function(){return this.$store.getters.paging("dragon","dragon")},dropdownItems:function(){return this.$store.getters.allUsers}},methods:{changePage:function(e){var t=this;return f()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("goToDragonPage",{nextIndex:e});case 2:case"end":return r.stop()}},r,t)}))()},buy:function(){var e=this;return f()(d.a.mark(function t(){var r,a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={owner_id:e.$store.getters.myId},a=e.$store.getters.paging("dragon","dragon").curr_page,t.next=4,e.$store.dispatch("buyDragon",{data:r});case 4:return t.next=6,e.$store.dispatch("WalletPage");case 6:e.$store.dispatch("goToDragonPage",{nextIndex:a});case 7:case"end":return t.stop()}},t,e)}))()},activate:function(e){var t=this;return f()(d.a.mark(function r(){var a;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a=t.$store.getters.paging("dragon","dragon").curr_page,r.next=4,t.$store.dispatch("activateDragon",e);case 4:t.$store.dispatch("goToDragonPage",{nextIndex:a}),r.next=9;break;case 7:r.prev=7,r.t0=r.catch(0);case 9:t.$store.dispatch("userDownLines",{idUser:t.$store.getters.myId}),t.$store.dispatch("allChildAccount"),t.$store.dispatch("whoAmI");case 12:case"end":return r.stop()}},r,t,[[0,7]])}))()}}},F={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("CurrUsdWallet"),e._v(" "),r("Button",{attrs:{type:"error"},on:{click:function(t){e.buy()}}},[e._v("買一隻全新夢寶龍")]),e._v(" "),r("Page",{attrs:{total:e.paging.total,"page-size":e.paging.pre_page,simple:"",size:"small"},on:{"on-change":function(t){e.changePage(t)}}}),e._v(" "),r("Table",{attrs:{stripe:"",columns:e.columns1,data:e.dragon}})],1)},staticRenderFns:[]};var V=r("VU/8")(R,F,!1,function(e){r("DEir")},null,null).exports,N={components:{CurrUsdWallet:M},data:function(){var e=this;return{treeName:{0:"小夢寶樹",1:"夢寶樹",2:"大夢寶樹"},columns1:[{title:"夢寶樹種類",key:"tree_name",minWidth:120},{title:"夢寶樹的擁有者",key:"owner_name",minWidth:120},{title:"夢寶樹激活對象",key:"user_name",minWidth:120},{title:"選擇激活對象",key:"operate",width:200,render:function(t,r){return t("div",[t("Dropdown",{props:{trigger:"click",disabled:!0},class:"defaultStyle",on:{"on-click":function(t){r.row.operate=e.dropdownItems.filter(function(e){return e.id===t}).shift()}}},[t("span",[r.row.operate.id+" "+r.row.operate.name+" ",t("Icon",{props:{type:"arrow-down-b"},style:{marginRight:"5px"}})]),t("DropdownMenu",{slot:"list"},e.dropdownItems.sort(function(e,t){return e.id-t.id}).map(function(e){return t("DropdownItem",{props:{name:e.id,disabled:r.row.activated}},e.id+" "+e.name)}))])])}},{title:"動作",key:"action",width:150,align:"center",render:function(t,r){return t("div",[t("Button",{props:{type:"primary",size:"small",disabled:r.row.activated},on:{click:function(){var t=r.row.id;e.activate({data:{user_id:r.row.operate.id},idTree:t})}}},"激活")])}}]}},computed:{availTreeType:function(){return this.$store.getters.availTreeType},tree:function(){var e=this;return this.$store.getters.isExist("tree","tree")?this.$store.getters.tree.map(function(t){return t.owner_name=t.owner&&t.owner.name||"未指定",t.user_name=t.user&&t.user.name||"未指定",t.operate={id:"",name:"選一個對象"},t.tree_name=e.treeName[t.type],t}):[]},paging:function(){return this.$store.getters.paging("tree","tree")},dropdownItems:function(){var e={};return e[""+this.$store.getters.self.id]=this.$store.getters.self,this.$store.getters.allChildAccount.forEach(function(t){e[t.id]=t}),c()(e).filter(function(e){return e.activated})}},methods:{changePage:function(e){var t=this;return f()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("goToTreePage",{nextIndex:e});case 2:case"end":return r.stop()}},r,t)}))()},buy:function(e){var t=this;return f()(d.a.mark(function r(){var a,n;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a={user_id:t.$store.getters.myId,type:e},n=t.$store.getters.paging("tree","tree").curr_page,r.next=4,t.$store.dispatch("buyTree",{data:a});case 4:return r.next=6,t.$store.dispatch("setAvailTreeType");case 6:return r.next=8,t.$store.dispatch("WalletPage");case 8:t.$store.dispatch("goToTreePage",{nextIndex:n});case 9:case"end":return r.stop()}},r,t)}))()},activate:function(e){var t=this;return f()(d.a.mark(function r(){var a;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.$store.getters.paging("tree","tree").curr_page,r.next=3,t.$store.dispatch("activateTree",e);case 3:t.$store.dispatch("goToTreePage",{nextIndex:a});case 4:case"end":return r.stop()}},r,t)}))()}}},O={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("CurrUsdWallet"),e._v(" "),e._l(e.availTreeType,function(t,a){return r("Button",{key:a,staticStyle:{"margin-right":"10px"},attrs:{type:"error"},on:{click:function(r){e.buy(t)}}},[e._v("買一株"+e._s(e.treeName[t]))])}),e._v(" "),r("Page",{attrs:{total:e.paging.total,"page-size":e.paging.pre_page,simple:"",size:"small"},on:{"on-change":function(t){e.changePage(t)}}}),e._v(" "),r("Table",{attrs:{stripe:"",columns:e.columns1,data:e.tree}})],2)},staticRenderFns:[]};var q=r("VU/8")(N,O,!1,function(e){r("8KzK")},null,null).exports,z={data:function(){return{columnsTree:[{title:"擁有者",key:"owner_name",minWidth:120},{title:"剩餘開採數量",key:"remain",minWidth:120},{title:"原始開採數量",key:"capacity",minWidth:120},{title:"目前開採進度",key:"progress",minWidth:120},{title:"激活時間",key:"activated_at",minWidth:200}]}},computed:{tree:function(){return this.$store.getters.isExist("tree","activeTree")?this.$store.getters.activeTree.map(function(e){return e.owner_name=e.owner&&e.owner.name||"未指定",e.user_name=e.user&&e.user.name||"未指定",e.status=e.activated&&e.activated_at||"未激活",e}):[]},pagingTree:function(){return this.$store.getters.paging("tree","activeTree")}},methods:{changeTreePage:function(e){var t=this;return f()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("goToActiveTreePage",{nextIndex:e});case 2:case"end":return r.stop()}},r,t)}))()}}},B={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Page",{attrs:{total:e.pagingTree.total,"page-size":e.pagingTree.pre_page,simple:"",size:"small"},on:{"on-change":function(t){e.changeTreePage(t)}}}),e._v(" "),r("Table",{attrs:{stripe:"",columns:e.columnsTree,data:e.tree}})],1)},staticRenderFns:[]};var Q=r("VU/8")(z,B,!1,function(e){r("SW59")},null,null).exports,j={data:function(){var e=this;return{motherId:"",columns1:[{title:"ID",key:"id",width:100},{title:"使用者名稱",key:"name",minWidth:150},{title:this.$store.getters.gems[0],key:"gem0",minWidth:100},{title:this.$store.getters.gems[1],key:"gem1",minWidth:100},{title:this.$store.getters.gems[2],key:"gem2",minWidth:100},{title:this.$store.getters.gems[3],key:"gem3",minWidth:100},{title:"是否被凍結帳號",key:"isFrozen",minWidth:150},{title:"是否已激活",key:"isActivat",width:150},{title:"動作",key:"action",width:120,fixed:"right",align:"center",render:function(t,r){return t("div",[t("Button",{props:{type:e.isChildAccount?"success":"primary",disabled:e.isChildAccount&&e.$store.getters.self.id!==r.row.id},on:{click:function(t){if(e.isChildAccount)e.$store.dispatch("whoAmI");else{var a=e.$store.getters.childAccount.filter(function(e){return e.id===r.row.id}).shift();e.$store.commit("IAm",a)}}}},e.labelTitle)])}}]}},computed:{isChildAccount:function(){return this.$store.getters.self.is_child_account},labelTitle:function(){return this.$store.getters.self.is_child_account?"恢復身份":"變身"},childAccount:function(){return this.$store.getters.isExist("user","childAccount")?this.$store.getters.childAccount.map(function(e){return e.isFrozen=e.frozen?"是":"否",e.isActivat=e.activated?"是":"否",e.action={label:"變身"},e}).sort(function(e,t){return parseInt(e.id)-parseInt(t.id)}):[]},paging:function(){return this.$store.getters.paging("user","childAccount")}},methods:{changePage:function(e){var t=this;return f()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("goToChildAccountPage",{nextIndex:e});case 2:case"end":return r.stop()}},r,t)}))()},addChildAccount:function(){var e=this;return f()(d.a.mark(function t(){var r,a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$store.getters.paging("user","childAccount").curr_page,a={upline_id:e.motherId},t.next=4,e.$store.dispatch("addChildAccount",{data:a});case 4:e.$store.dispatch("goToChildAccountPage",{nextIndex:r});case 5:case"end":return t.stop()}},t,e)}))()},recall:function(){var e=this;return f()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("Recall");case 2:case"end":return t.stop()}},t,e)}))()}}},H={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("子帳號")]),e._v(" "),r("Button",{staticStyle:{"margin-bottom":"1rem"},attrs:{type:"primary"},on:{click:function(t){e.recall()}}},[e._v("一鍵召回")]),r("br"),e._v(" "),r("label",{attrs:{for:"motherId"}},[e._v("指定帳號 ID: ")]),r("Input",{staticStyle:{width:"120px"},attrs:{id:"motherId",placeholder:"0"},model:{value:e.motherId,callback:function(t){e.motherId=t},expression:"motherId"}}),e._v(" "),r("Button",{attrs:{type:"error",disabled:e.isChildAccount},on:{click:function(t){e.addChildAccount()}}},[e._v("增加子帳號")]),e._v(" "),r("Page",{attrs:{total:e.paging.total,"page-size":e.paging.pre_page,simple:"",size:"small"},on:{"on-change":function(t){e.changePage(t)}}}),e._v(" "),r("Table",{attrs:{stripe:"",columns:e.columns1,data:e.childAccount}})],1)},staticRenderFns:[]};var K=r("VU/8")(j,H,!1,function(e){r("r7kC")},null,null).exports,Y={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{},[t("Table",{attrs:{stripe:"",columns:this.columns1,data:this.wallet}})],1)},staticRenderFns:[]};var Z=r("VU/8")({data:function(){return{columns1:[{title:"寶石種類",key:"gem_name",minWidth:120,render:function(e,t){return e("div",[e("img",{class:{"gems-shadow":!0},domProps:{src:"static/images/icon_gem"+t.index+".svg"}}),e("span",t.row.gem_name)])}},{title:"寶石種類",key:"amount",minWidth:120}]}},computed:{wallet:function(){var e=this;if(this.$store.getters.isExist("wallet","wallet")){var t=this.$store.getters.wallet.map(function(t){return t.gem_name=e.$store.getters.gems[t.gem],t});return t.splice(this.$store.getters.gems.length),t}return[]}}},Y,!1,function(e){r("SBtZ")},null,null).exports,J={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("自己")]),e._v(" "),r("Table",{attrs:{stripe:"",columns:e.columnsUser,data:e.self}}),e._v(" "),r("h1",[e._v("下線")]),e._v(" "),r("Table",{attrs:{stripe:"",columns:e.columnsUser,data:e.downlines}})],1)},staticRenderFns:[]};var X=r("VU/8")({data:function(){return{columnsUser:[{title:"ID",key:"id",width:100},{title:"name",key:"name",minWidth:150},{title:"總開採數",key:"total_capacity",minWidth:85},{title:"未開採",key:"total_remain",minWidth:75},{title:"已開採",key:"total_processed",minWidth:75},{title:"傘下帳號數量",key:"total_user_count",minWidth:110},{title:"是否子帳號",key:"isChild",minWidth:100},{title:"是否激活",key:"isActivat",minWidth:85}]}},computed:{self:function(){return[this.$store.getters.self].map(function(e){return e.total_processed=e.total_capacity-e.total_remain,e.isActivat=e.activated?"是":"否",e.isChild=e.is_child_account?"是":"否",e})},downlines:function(){return this.$store.getters.downlines.map(function(e){return e.total_processed=e.total_capacity-e.total_remain,e.isActivat=e.activated?"是":"否",e.isChild=e.is_child_account?"是":"否",e})}}},J,!1,function(e){r("CyMa")},"data-v-750a6956",null).exports,ee={components:{CurrUsdWallet:M},data:function(){return{id:"",amount:0,busy:!1}},computed:{currUSD:function(){return this.$store.getters.isExist("wallet","wallet")?this.$store.getters.wallet.filter(function(e){return 4===e.gem}).pop().amount:0},myId:function(){return this.$store.getters.myId}},methods:{transferTo:function(){var e=this;return f()(d.a.mark(function t(){var r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.busy=!0,r={user_id:e.id,amount:e.amount},t.next=5,e.$store.dispatch("TransferUSD",{data:r});case 5:return t.next=7,e.$store.dispatch("WalletPage");case 7:e.busy=!1,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e.busy=!1;case 13:case"end":return t.stop()}},t,e,[[0,10]])}))()}}},te={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"form"},[r("h4",[e._v("轉出對象")]),e._v(" "),r("Input",{staticClass:"input-id",staticStyle:{width:"300px"},attrs:{placeholder:""+e.myId,clearable:""},model:{value:e.id,callback:function(t){e.id=t},expression:"id"}})],1),e._v(" "),r("CurrUsdWallet"),e._v(" "),r("div",{staticClass:"form"},[r("h4",[e._v("轉出數量")]),e._v(" "),r("Input",{staticClass:"input-amount",staticStyle:{width:"300px"},attrs:{placeholder:"0",clearable:""},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}})],1),e._v(" "),r("div",{staticClass:"form"},[r("Alert",{attrs:{type:"error"}},[e._v("接下來的行為，將不可回溯!!")])],1),e._v(" "),r("Button",{attrs:{type:"error"},on:{click:function(t){e.transferTo()}}},[e._v("轉出")]),e._v(" "),e.busy?r("Spin",[e._v("轉出中...")]):e._e()],1)},staticRenderFns:[]};var re,ae=r("VU/8")(ee,te,!1,function(e){r("DhxV")},"data-v-6409368b",null).exports,ne=this,se={name:"TransferGems",beforeRouteEnter:(re=f()(d.a.mark(function e(t,r,a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.gem,e.next=3,I.dispatch("GetWalletTransferList",{mainGemValue:n});case 3:a();case 4:case"end":return e.stop()}},e,ne)})),function(e,t,r){return re.apply(this,arguments)}),created:function(){this.transferGems.selectedGem=this.gemList[0].value,this.setWalletAddress(this.transferGems.selectedGem),this.mainGemValue=this.$route.params.gem,this.walletName=this.listLookUp[this.pageGem]},watch:{$route:function(e,t){if(this.$route.params.hasOwnProperty("gem")){this.mainGemValue=this.$route.params.gem,this.walletName=this.listLookUp[this.pageGem];var r=this.mainGemValue;this.$store.dispatch("GetWalletTransferList",{mainGemValue:r}),this.handleReset("transferGems")}}},data:function(){var e=this;return{mainGemValue:0,walletName:"",listLookUp:{0:"七彩寶石",1:"多喜寶石",2:"多福寶石",3:"多財寶石",4:"夢寶積分",5:"碳幣",6:"財神幣",7:"美金",8:"圓夢積分"},statusLookUp:{0:"審核中"},transferGems:{selectedGem:null,walletAddress:"",fromValue:0,toValue:0,password:""},transferRule:{selectedGem:[{required:!0,type:"number",trigger:"blur",message:"請選擇轉換寶石種類"}],fromValue:[{required:!0,type:"number",validator:function(t,r,a){r<=0&&a(new Error("轉換數量必須大於 0")),r%e.fromLimit!=0&&a(new Error("轉換數量必須是 "+e.fromLimit+" 的倍數")),a()},trigger:"blur"}],password:[{required:!0,validator:function(e,t,r){(""===t||t.length<6)&&r(new Error("填入密碼，符合長度 6 個字元以上")),r()},trigger:"blur"}]},transferApplyCols:[{title:"來源寶石",key:"from_gem"},{title:"轉換寶石",key:"to_gem"},{title:"匯率",key:"rate"},{title:"數量",key:"amount"},{title:"目前狀態",key:"status"},{title:"建立時間",key:"updated_at"}]}},computed:{pageGem:function(){return this.mainGemValue},currentGem:function(){var e=this;return this.$store.getters.wallet.find(function(t){return t.gem===Number(e.mainGemValue)}).amount},gemList:function(){var e=this;return this.$store.getters.walletTransferMap[this.mainGemValue].map(function(t){return{name:e.listLookUp[t],value:t}})},walletAddress:function(){return this.transferGems.waleltAddress},transferRate:function(){var e=this.pageGem+":"+this.transferGems.selectedGem;return this.$store.getters.walletTransferRate[e]||"請選擇兌換幣種"},fromValue:{get:function(){return this.transferGems.fromValue},set:function(e){this.transferGems.fromValue=Number(e),this.transferGems.toValue=Number((e*this.toFromRatio).toFixed(1))}},toValue:{get:function(){return this.transferGems.toValue},set:function(e){this.transferGems.toValue=Number(e),this.transferGems.fromValue=Number((e/this.toFromRatio).toFixed(1))}},fromLimit:function(){return this.transferRate.charAt(0)},toLimit:function(){return this.transferRate.charAt(2)},toFromRatio:function(){return this.toLimit/this.fromLimit},walletTransferList:function(){var e=this,t=this.$store.getters.walletTransferList.data;return t.map(function(t){t.from_gem=e.listLookUp[t.from_wallet.gem],t.to_gem=e.listLookUp[t.to_wallet.gem],t.status=e.statusLookUp[t.status]}),t},paging:function(){return this.$store.getters.paging("wallet","walletTransferList")}},methods:{setWalletAddress:function(e){this.transferGems.walletAddress=this.$store.getters.wallet[e].external_address},handleSubmit:function(e){var t,r=this;this.$refs[e].validate((t=f()(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}return a=r.mainGemValue,n={to_gem:r.transferGems.selectedGem,amount:r.transferGems.fromValue,wallet_password:r.transferGems.password},e.next=5,r.$store.dispatch("ApplyWalletTransfer",{mainGemValue:a,data:n});case 5:return e.next=7,r.$store.dispatch("WalletPage");case 7:return e.next=9,I.dispatch("GetWalletTransferList",{mainGemValue:a});case 9:r.$Message.success("申請成功！請等待審核通知"),r.handleReset("transferGems"),e.next=14;break;case 13:r.$Message.error("申請失敗，請確實填寫資料");case 14:case"end":return e.stop()}},e,r)})),function(e){return t.apply(this,arguments)}))},handleReset:function(e){this.$refs[e].resetFields()},changePage:function(e){var t=this;return f()(d.a.mark(function r(){var a,n;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.mainGemValue,n=new URLSearchParams,r.next=4,t.$store.dispatch("GetWalletTransferList",{mainGemValue:a,nextIndex:e,searchParams:n});case 4:case"end":return r.stop()}},r,t)}))()}}},ie={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h4",[e._v("我的"+e._s(e.walletName))]),e._v(" "),r("p",[r("span",{staticClass:"wallet-value"},[e._v(e._s(e.currentGem))]),e._v("點")]),e._v(" "),r("Form",{ref:"transferGems",staticStyle:{"max-width":"300px"},attrs:{model:e.transferGems,rules:e.transferRule,"label-position":"top"}},[r("FormItem",{attrs:{label:"轉換種類",prop:"selectedGem"}},[r("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"請選擇轉換種類"},on:{"on-change":function(t){e.setWalletAddress(t)}},model:{value:e.transferGems.selectedGem,callback:function(t){e.$set(e.transferGems,"selectedGem",t)},expression:"transferGems.selectedGem"}},e._l(e.gemList,function(t){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.name))])}))],1),e._v(" "),r("FormItem",{attrs:{label:"錢包位置",prop:"walletAddress"}},[r("Input",{attrs:{type:"text",readonly:""},model:{value:e.transferGems.walletAddress,callback:function(t){e.$set(e.transferGems,"walletAddress",t)},expression:"transferGems.walletAddress"}})],1),e._v(" "),r("FormItem",{attrs:{label:"兌換比例: "+e.transferRate}},[r("Row",[r("Col",{attrs:{span:"11"}},[r("FormItem",{attrs:{prop:"fromValue"}},[r("InputNumber",{attrs:{min:0},model:{value:e.fromValue,callback:function(t){e.fromValue=t},expression:"fromValue"}}),e._v(" "),r("span",[e._v(e._s(e.walletName))])],1)],1),e._v(" "),r("Col",{attrs:{span:"2"}},[e._v("->")]),e._v(" "),r("Col",{attrs:{span:"11"}},[r("FormItem",{attrs:{prop:"toValue"}},[r("InputNumber",{attrs:{min:0},model:{value:e.toValue,callback:function(t){e.toValue=t},expression:"toValue"}}),e._v(" "),r("span",[e._v(e._s(e.listLookUp[e.transferGems.selectedGem]))])],1)],1)],1)],1),e._v(" "),r("FormItem",{attrs:{label:"請輸入二級密碼",prop:"password"}},[r("Input",{attrs:{type:"password"},model:{value:e.transferGems.password,callback:function(t){e.$set(e.transferGems,"password",t)},expression:"transferGems.password"}})],1),e._v(" "),r("FormItem",[r("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("transferGems")}}},[e._v("申請轉換")])],1)],1),e._v(" "),r("h4",[e._v("寶石轉換申請狀態")]),e._v(" "),r("Page",{attrs:{total:e.paging.total,"page-size":e.paging.pre_page,simple:"",size:"small"},on:{"on-change":function(t){e.changePage(t)}}}),e._v(" "),r("Table",{attrs:{columns:e.transferApplyCols,data:e.walletTransferList}})],1)},staticRenderFns:[]};var oe=r("VU/8")(se,ie,!1,function(e){r("rnrv")},null,null).exports,ce=r("QlUI"),ue=r.n(ce),le={data:function(){return{showButton:!1}},mounted:function(){var e=this;return f()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("CreateQRcode");case 2:e.renderQRcode(),setTimeout(function(){e.isLoginSuccess()},3500);case 4:case"end":return t.stop()}},t,e)}))()},methods:{renderQRcode:function(){var e=ue()(0,"L");e.addData(""+this.$store.getters.qrcode),e.make(),document.querySelector("#qrcodeImg").src=e.createDataURL(10),this.showButton=!0},isLoginSuccess:function(){var e=this;return f()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("LoginQRcode");case 3:e.$router.push("/Main"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.$store.getters.isLogin||setTimeout(e.isLoginSuccess,2e3);case 9:case"end":return t.stop()}},t,e,[[0,6]])}))()}}},pe={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("行動裝置刷 QR code 登入")]),this._v(" "),t("div",{attrs:{id:"placeHolder"}},[t("img",{attrs:{id:"qrcodeImg",src:"",alt:""}})])])}]};var de={components:{QRcodeLogin:r("VU/8")(le,pe,!1,function(e){r("PyqD")},"data-v-cb9f09c2",null).exports},data:function(){var e=this;return{areaType:{true:"註冊新帳號",false:"帳號密碼登入"},switchAreaType:!0,SignIn:{username:"",password:""},SignInRule:{username:[{required:!0,message:"填入要登入的使用者䁥稱",trigger:"blur"}],password:[{required:!0,message:"填入要登入的使用者䁥稱相對應的密碼",trigger:"blur"},{type:"string",min:6,message:"長度要有 6 個字元",trigger:"blur"}]},SignUp:{name:"",email:"",password:"",passwordCheck:"",walletPassword:"",walletPasswordCheck:"",upline_id:0},SignUpRule:{name:[{required:!0,message:"填入要註冊的使用者帳號",trigger:"blur"}],email:[{required:!0,message:"填入要註冊的 E-mail",trigger:"blur"},{type:"email",message:"請檢查 E-mail 格式，是否有誤",trigger:"blur"}],password:[{required:!0,validator:function(t,r,a){""===r||r.length<6?a(new Error("填入密碼，符合長度 6 個字元以上")):(""!==e.SignUp.passwordCheck&&e.$refs.SignUp.validateField("passwordCheck"),a())},trigger:"blur"}],passwordCheck:[{required:!0,validator:function(t,r,a){""===r?a(new Error("再填入一樣的密碼")):r!==e.SignUp.password?a(new Error("兩邊不一樣，請再確認")):a()},trigger:"blur"}],walletPassword:[{required:!0,validator:function(t,r,a){""===r||r.length<6?a(new Error("填入密碼，符合長度 6 個字元以上")):(""!==e.SignUp.passwordCheck&&e.$refs.SignUp.validateField("walletPasswordCheck"),a())},trigger:"blur"}],walletPasswordCheck:[{required:!0,validator:function(t,r,a){""===r?a(new Error("再填入一樣的密碼")):r!==e.SignUp.walletPassword?a(new Error("兩邊不一樣，請再確認")):a()},trigger:"blur"}],upline_id:[{required:!0,type:"number",validator:function(e,t,r){t<1?r(new Error("填入上線的 ID 號碼")):r()},trigger:"blur"}]}}},methods:{signIn:function(){var e,t=this;this.$refs.SignIn.validate((e=f()(d.a.mark(function e(r){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=12;break}return e.prev=1,e.next=4,t.$store.dispatch("Login",{password:t.SignIn.password,name:t.SignIn.username});case 4:t.$router.push("/Main"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t.$Message.error("帳號密碼不匹配");case 10:e.next=13;break;case 12:t.$Message.error("帳號密碼格式出錯");case 13:case"end":return e.stop()}},e,t,[[1,7]])})),function(t){return e.apply(this,arguments)}))},signUp:function(){var e,t=this;this.$refs.SignUp.validate((e=f()(d.a.mark(function e(r){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=7;break}return a={email:t.SignUp.email,name:t.SignUp.name,password:t.SignUp.password,wallet_password:t.SignUp.walletPassword,upline_id:t.SignUp.upline_id},e.next=4,t.$store.dispatch("CreateUser",a);case 4:t.switchAreaType=!0,e.next=8;break;case 7:t.$Message.error("註冊失敗");case 8:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},reset:function(){this.$refs.SignUp.resetFields()}}},me={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"loginIn"},[r("QRcodeLogin"),e._v(" "),r("h2",[e._v("帳號登入")]),e._v(" "),r("i-switch",{model:{value:e.switchAreaType,callback:function(t){e.switchAreaType=t},expression:"switchAreaType"}}),e._v(" "),r("span",[e._v("切換到 "+e._s(e.areaType[e.switchAreaType]))]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!!e.switchAreaType,expression:"!!switchAreaType"}],staticClass:"SignIn"},[r("Form",{ref:"SignIn",attrs:{model:e.SignIn,rules:e.SignInRule,"label-position":"top"}},[r("FormItem",{attrs:{label:"請填入註冊信箱",prop:"username"}},[r("Input",{attrs:{type:"text"},model:{value:e.SignIn.username,callback:function(t){e.$set(e.SignIn,"username",t)},expression:"SignIn.username"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請填入密碼",prop:"password"}},[r("Input",{attrs:{type:"password"},model:{value:e.SignIn.password,callback:function(t){e.$set(e.SignIn,"password",t)},expression:"SignIn.password"}})],1),e._v(" "),r("FormItem",{staticClass:"sumitArea"},[r("Button",{attrs:{type:"primary"},on:{click:function(t){e.signIn()}}},[e._v("登入")])],1)],1)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.switchAreaType,expression:"!switchAreaType"}],staticClass:"SignUp"},[r("Form",{ref:"SignUp",attrs:{model:e.SignUp,rules:e.SignUpRule,"label-position":"top"}},[r("FormItem",{attrs:{label:"請填入使用者䁥稱",prop:"name"}},[r("Input",{attrs:{type:"text"},model:{value:e.SignUp.name,callback:function(t){e.$set(e.SignUp,"name",t)},expression:"SignUp.name"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請填入 E-mail",prop:"email"}},[r("Input",{attrs:{type:"email"},model:{value:e.SignUp.email,callback:function(t){e.$set(e.SignUp,"email",t)},expression:"SignUp.email"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請填入密碼",prop:"password"}},[r("Input",{attrs:{type:"password"},model:{value:e.SignUp.password,callback:function(t){e.$set(e.SignUp,"password",t)},expression:"SignUp.password"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請再次填入密碼",prop:"passwordCheck"}},[r("Input",{attrs:{type:"password"},model:{value:e.SignUp.passwordCheck,callback:function(t){e.$set(e.SignUp,"passwordCheck",t)},expression:"SignUp.passwordCheck"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請填入二級密碼",prop:"walletPassword"}},[r("Input",{attrs:{type:"password"},model:{value:e.SignUp.walletPassword,callback:function(t){e.$set(e.SignUp,"walletPassword",t)},expression:"SignUp.walletPassword"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請再次填入二級密碼",prop:"walletPasswordCheck"}},[r("Input",{attrs:{type:"password"},model:{value:e.SignUp.walletPasswordCheck,callback:function(t){e.$set(e.SignUp,"walletPasswordCheck",t)},expression:"SignUp.walletPasswordCheck"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請填入上線 ID",prop:"upline_id"}},[r("Input",{model:{value:e.SignUp.upline_id,callback:function(t){e.$set(e.SignUp,"upline_id",t)},expression:"SignUp.upline_id"}})],1),e._v(" "),r("FormItem",{staticClass:"sumitArea"},[r("Button",{attrs:{type:"primary"},on:{click:function(t){e.signUp()}}},[e._v("確認")]),e._v(" "),r("Button",{attrs:{type:"ghost"},on:{click:function(t){e.reset()}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var fe=r("VU/8")(de,me,!1,function(e){r("N60e")},"data-v-d1be1a82",null).exports,he={data:function(){var e=this,t=function(t,r,a){""===r||r.length<6?a(new Error("填入密碼，符合長度 6 個字元以上")):(""!==e.UpdateWalletPwd.newPasswordCheck&&e.$refs.UpdateWalletPwd.validateField("newPasswordCheck"),a())};return{UpdateWalletPwd:{password:"",newPassword:"",newPasswordCheck:""},UpdateWalletPwdRule:{password:[{required:!0,validator:t,trigger:"blur"}],newPassword:[{required:!0,validator:t,trigger:"blur"}],newPasswordCheck:[{required:!0,validator:function(t,r,a){""===r?a(new Error("請再次確認新二級密碼")):r!==e.UpdateWalletPwd.newPassword?a(new Error("兩邊不一樣，請再確認")):a()},trigger:"blur"}]},wallet:[{id:5,name:"碳幣"},{id:6,name:"財神幣"},{id:7,name:"美金"},{id:8,name:"圓夢積分"}],addrGroup:{5:{address:""},6:{address:""},7:{address:""},8:{address:""}},addrRuleGroup:{5:{address:[{required:!0,trigger:"blur",message:"請輸入錢包地址"}]},6:{address:[{required:!0,trigger:"blur",message:"請輸入錢包地址"}]},7:{address:[{required:!0,trigger:"blur",message:"請輸入錢包地址"}]},8:{address:[{required:!0,trigger:"blur",message:"請輸入錢包地址"}]}},nickName:{canModify:!1},walletPassword:{isOpen:!1},setWalletAddress:{isOpen:!1},columnsDragon:[{title:"夢寶龍的擁有者",key:"owner_name",minWidth:150},{title:"夢寶龍激活對象",key:"user_name",minWidth:150},{title:"是否激活",key:"isActivat",minWidth:100}]}},computed:{dragon:function(){return this.$store.getters.isExist("dragon","activeDragon")?this.$store.getters.activeDragon.map(function(e){return e.owner_name=e.owner&&e.owner.name||"未指定",e.user_name=e.user&&e.user.name||"未指定",e.isActivat=e.activated?"是":"否",e}):[]},pagingDragon:function(){return this.$store.getters.paging("dragon","activeDragon")},mode:function(){return{readOnly:!this.nickName.canModify}},walletPasswordMode:function(){return this.walletPassword.isOpen},walletAddressMode:function(){return this.setWalletAddress.isOpen},userName:{get:function(){return this.$store.getters.myName},set:function(e){this.$store.commit("myName",e)}}},methods:{changeDragonPage:function(e){var t=this;return f()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("goToActiveDragonPage",{nextIndex:e});case 2:case"end":return r.stop()}},r,t)}))()},change:function(){var e=this;return f()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.nickName.canModify){t.next=3;break}return t.next=3,e.$store.dispatch("whoAmI");case 3:case"end":return t.stop()}},t,e)}))()},modifyUserName:function(){var e=this;return f()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("modifyMyName");case 2:e.$store.dispatch("goToActiveDragonPage",{nextIndex:1}),e.canModify=!1;case 4:case"end":return t.stop()}},t,e)}))()},updateWalletPwd:function(){var e,t=this;this.$refs.UpdateWalletPwd.validate((e=f()(d.a.mark(function e(r){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=8;break}return a={wallet_password:t.UpdateWalletPwd.password,new_wallet_password:t.UpdateWalletPwd.newPassword},e.next=4,t.$store.dispatch("UpdateWalletPwd",{data:a});case 4:"success"===e.sent?(t.$Message.success("密碼修改成功"),t.reset(),t.walletPassword.isOpen=!1):t.$Message.error("密碼錯誤"),e.next=9;break;case 8:t.$Message.error("修改二級密碼失敗");case 9:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},updateWalletAddr:function(e){var t,r=this;this.$refs["UpdateGem"+e+"Addr"][0].validate((t=f()(d.a.mark(function t(a){var n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=8;break}return n={external_address:r.addrGroup[e].address},t.next=4,r.$store.dispatch("UpdateWalletAddr",{walletIndex:e,data:n});case 4:"success"===t.sent?(r.$Message.success("設定錢包位址成功"),r.$refs["UpdateGem"+e+"Addr"][0].resetFields()):r.$Message.error("無此錢包位址"),t.next=9;break;case 8:r.$Message.error("設定錢包位址失敗");case 9:case"end":return t.stop()}},t,r)})),function(e){return t.apply(this,arguments)}))},reset:function(){this.$refs.UpdateWalletPwd.resetFields()}}},ge={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"userProfile"},[r("h1",[e._v("個人資料")]),e._v(" "),r("Form",[r("FormItem",{attrs:{label:"修改䁥稱",inline:""}},[r("i-switch",{on:{"on-change":function(t){e.change()}},model:{value:e.nickName.canModify,callback:function(t){e.$set(e.nickName,"canModify",t)},expression:"nickName.canModify"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v("開")]),e._v(" "),r("span",{attrs:{slot:"close"},slot:"close"},[e._v("關")])])],1),e._v(" "),r("FormItem",[r("Input",{class:e.mode,staticStyle:{width:"300px"},attrs:{readonly:!e.nickName.canModify,placeholder:"Enter something..."},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),e._v(" "),r("Button",{directives:[{name:"show",rawName:"v-show",value:e.nickName.canModify,expression:"nickName.canModify"}],attrs:{type:"primary"},on:{click:function(t){e.modifyUserName()}}},[e._v("決定䁥稱")])],1)],1),e._v(" "),r("Form",[r("FormItem",{attrs:{label:"修改二級密碼",inline:""}},[r("i-switch",{model:{value:e.walletPassword.isOpen,callback:function(t){e.$set(e.walletPassword,"isOpen",t)},expression:"walletPassword.isOpen"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v("開")]),e._v(" "),r("span",{attrs:{slot:"close"},slot:"close"},[e._v("關")])])],1)],1),e._v(" "),e.walletPasswordMode?r("Form",{ref:"UpdateWalletPwd",staticStyle:{"max-width":"300px"},attrs:{model:e.UpdateWalletPwd,rules:e.UpdateWalletPwdRule,"label-position":"top"}},[r("FormItem",{attrs:{label:"請輸入二級密碼",prop:"password"}},[r("Input",{attrs:{type:"password"},model:{value:e.UpdateWalletPwd.password,callback:function(t){e.$set(e.UpdateWalletPwd,"password",t)},expression:"UpdateWalletPwd.password"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請輸入新二級密碼",prop:"newPassword"}},[r("Input",{attrs:{type:"password"},model:{value:e.UpdateWalletPwd.newPassword,callback:function(t){e.$set(e.UpdateWalletPwd,"newPassword",t)},expression:"UpdateWalletPwd.newPassword"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請再次確認新二級密碼",prop:"newPasswordCheck"}},[r("Input",{attrs:{type:"password"},model:{value:e.UpdateWalletPwd.newPasswordCheck,callback:function(t){e.$set(e.UpdateWalletPwd,"newPasswordCheck",t)},expression:"UpdateWalletPwd.newPasswordCheck"}})],1),e._v(" "),r("FormItem",{staticClass:"sumitArea"},[r("Button",{attrs:{type:"primary"},on:{click:function(t){e.updateWalletPwd()}}},[e._v("修改密碼")])],1)],1):e._e(),e._v(" "),r("Form",[r("FormItem",{attrs:{label:"設定錢包位址",inline:""}},[r("i-switch",{model:{value:e.setWalletAddress.isOpen,callback:function(t){e.$set(e.setWalletAddress,"isOpen",t)},expression:"setWalletAddress.isOpen"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v("開")]),e._v(" "),r("span",{attrs:{slot:"close"},slot:"close"},[e._v("關")])])],1)],1),e._v(" "),e.walletAddressMode?e._l(e.wallet,function(t,a){return r("Form",{key:a,ref:"UpdateGem"+t.id+"Addr",refInFor:!0,staticStyle:{"max-width":"500px"},attrs:{model:e.addrGroup[t.id],rules:e.addrRuleGroup[t.id],"label-width":80}},[r("FormItem",{attrs:{label:""+t.name,prop:"address"}},[r("Row",[r("Col",{attrs:{span:"20"}},[r("Input",{attrs:{type:"text",placeholder:"請輸入"+t.name+"錢包位址"},model:{value:e.addrGroup[t.id].address,callback:function(r){e.$set(e.addrGroup[t.id],"address",r)},expression:"addrGroup[wallet.id].address"}})],1),e._v(" "),r("Col",{attrs:{span:"1"}},[e._v(" ")]),e._v(" "),r("Col",{attrs:{span:"3"}},[r("Button",{attrs:{type:"primary"},on:{click:function(r){e.updateWalletAddr(t.id)}}},[e._v("儲存")])],1)],1)],1)],1)}):e._e(),e._v(" "),r("h2",[e._v("夢寶龍 × "+e._s(this.$store.getters.paging("dragon","activeDragon").total))]),e._v(" "),r("Page",{attrs:{total:e.pagingDragon.total,"page-size":e.pagingDragon.pre_page,simple:"",size:"small"},on:{"on-change":function(t){e.changeDragonPage(t)}}}),e._v(" "),r("Table",{attrs:{columns:e.columnsDragon,data:e.dragon}})],2)},staticRenderFns:[]};var ve=r("VU/8")(he,ge,!1,function(e){r("G3Rh")},null,null).exports,we={data:function(){return{currOperatable:"2",operatable_type:{2:{label:"夢寶龍",sign:"DragonColumns"},3:{label:"夢寶樹",sign:"TreeColumns"}},actionType:["購買","修改","激活","召回（錢包）","轉賬（美金）"],TreeColumns:[{title:"時間",key:"created_at",minWidth:150},{title:"操作者䁥稱",key:"operator_name",minWidth:100},{title:"操作行為",key:"action",width:120},{title:"物品",key:"item",width:100},{title:"接受人䁥稱",key:"user_name",minWidth:100}],DragonColumns:[{title:"時間",key:"created_at",minWidth:150},{title:"操作者暱稱",key:"operator_name",minWidth:100},{title:"操作行為",key:"action",width:120},{title:"物品",key:"item",width:100},{title:"接受人暱稱",key:"user_name",minWidth:100}]}},computed:{eventsLog:function(){var e=this;return this.$store.getters.eventsLog.data.map(function(t){return t.action=""+e.actionType[t.type],t.item=""+e.operatable_type[t.operatable_type].label,2===t.operatable_type&&1===t.result_data.type&&(t.item="小夢寶龍"),t.operator_name=l()({name:"系統"},t.operator).name,t.user_name=t.user.name,t})},paging:function(){return this.$store.getters.paging("user","eventsLog")},columns1:function(){return this[""+this.operatable_type[this.currOperatable].sign]}},methods:{changePage:function(e){var t=this;return f()(d.a.mark(function r(){var a;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return(a=new URLSearchParams).append("operatable_type",t.currOperatable),a.append("type[]","0"),a.append("type[]","2"),r.next=6,t.$store.dispatch("EventsLog",{nextIndex:e,searchParams:a});case 6:case"end":return r.stop()}},r,t)}))()},changeType:function(){var e=this;return f()(d.a.mark(function t(){var r,a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new URLSearchParams).append("operatable_type",e.currOperatable),a="1",t.next=5,e.$store.dispatch("EventsLog",{nextIndex:a,searchParams:r});case 5:case"end":return t.stop()}},t,e)}))()}}},_e={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"請選擇物品種類"},on:{"on-change":function(t){e.changeType()}},model:{value:e.currOperatable,callback:function(t){e.currOperatable=t},expression:"currOperatable"}},e._l(e.operatable_type,function(t,a){return r("Option",{key:a,attrs:{value:a}},[e._v(e._s(t.label))])})),e._v(" "),r("Page",{attrs:{total:e.paging.total,"page-size":e.paging.pre_page,simple:""},on:{"on-change":function(t){e.changePage(t)}}}),e._v(" "),r("Table",{attrs:{stripe:"",columns:e.columns1,data:e.eventsLog}})],1)},staticRenderFns:[]};var xe=r("VU/8")(we,_e,!1,function(e){r("LzdZ")},null,null).exports,ye={data:function(){return{selectedGem:4,actionType:["初始化（建立）","修改","激活","召回（錢包）","轉賬（美金）"],columns1:[{title:"時間",key:"created_at",minWidth:150},{title:"操作者䁥稱",key:"operator_name",minWidth:100},{title:"操作行為",key:"action",width:120},{title:"物品",key:"item",width:100},{title:"餘額",key:"amount",align:"right",width:150},{title:"金額",key:"delta_amount",align:"right",width:150},{title:"接受人䁥稱",key:"user_name",minWidth:100}]}},computed:{selectIcon:function(){return"gem"+this.selectedGem},walletLog:function(){var e=this;return this.$store.getters.walletLog.data.map(function(t){return t.action=t.sub_type_string||e.actionType[t.type],t.item=""+e.$store.getters.gems[t.result_data.gem],t.amount=t.result_data.amount,t.delta_amount=null!==t.delta?""+t.delta.amount:"0",t.operator_name=t.operator?t.operator.name:"",t.user_name=t.user?t.user.name:"",t})},paging:function(){return this.$store.getters.paging("wallet","walletLog")},ids:function(){var e=this,t=this.$store.getters.wallet.map(function(t){return t.title=""+e.$store.getters.gems[t.gem],t});return t.splice(this.$store.getters.gems.length),t},currOperatableId:{get:function(){var e=this;return this.$store.getters.wallet.filter(function(t){return t.gem===e.selectedGem}).shift().id},set:function(e){this.selectedGem=this.$store.getters.wallet.filter(function(t){return t.id===e}).shift().gem}}},methods:{changePage:function(e){var t=this;return f()(d.a.mark(function r(){var a;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return(a=new URLSearchParams).append("operatable_type","1"),t.currOperatableId&&a.append("operatable_id",t.currOperatableId),r.next=5,t.$store.dispatch("WalletLog",{nextIndex:e,searchParams:a});case 5:case"end":return r.stop()}},r,t)}))()},changeType:function(){var e=this;return f()(d.a.mark(function t(){var r,a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new URLSearchParams).append("operatable_type","1"),e.currOperatableId&&r.append("operatable_id",e.currOperatableId),a="1",t.next=6,e.$store.dispatch("WalletLog",{nextIndex:a,searchParams:r});case 6:case"end":return t.stop()}},t,e)}))()}}},ke={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Select",{staticClass:"select-point-type",class:e.selectIcon,staticStyle:{width:"200px"},attrs:{placeholder:"請選擇物品 Id"},on:{"on-change":function(t){e.changeType()}},model:{value:e.currOperatableId,callback:function(t){e.currOperatableId=t},expression:"currOperatableId"}},e._l(e.ids,function(t){return r("Option",{key:t.id,class:"gem"+(t.id-1),attrs:{value:t.id}},[e._v("\n        "+e._s(t.title)+"\n      ")])})),e._v(" "),r("Page",{attrs:{total:e.paging.total,"page-size":e.paging.pre_page,simple:"",size:"small"},on:{"on-change":function(t){e.changePage(t)}}}),e._v(" "),r("Table",{attrs:{stripe:"",columns:e.columns1,data:e.walletLog}})],1)},staticRenderFns:[]};var be=r("VU/8")(ye,ke,!1,function(e){r("2sr0")},null,null).exports,$e=this;a.default.use(P.a);var Te,Ie,Pe,Ue,Ae,Se,We,Le,Ce,Ge,Ee,De=new P.a({routes:[{path:"/",redirect:"/Login"},{path:"/Login",name:"Login",component:fe},{path:"/Main",name:"Main",component:W,redirect:"/Main/UserProfile",children:[{path:"notStart",name:"notStart",component:E},{path:"Unverified",name:"Unverified",component:C},{path:"UserProfile",name:"UserProfile",component:ve,beforeEnter:function(){var e=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("Login"!==r.name){e.next=6;break}return e.next=3,De.app.$store.dispatch("whoAmI");case 3:De.app.$store.dispatch("allChildAccount"),De.app.$store.dispatch("userDownLines",{idUser:De.app.$store.getters.myId}),De.app.$store.dispatch("WalletPage");case 6:return e.next=8,De.app.$store.dispatch("goToActiveDragonPage",{nextIndex:1});case 8:a();case 9:case"end":return e.stop()}},e,$e)}));return function(t,r,a){return e.apply(this,arguments)}}()},{path:"Dragon",name:"Dragon",component:V,beforeEnter:(Ge=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!De.app.$store.getters.self.is_child_account){e.next=3;break}return De.push("/Main/ChildAccount"),e.abrupt("return");case 3:De.app.$store.dispatch("userDownLines",{idUser:De.app.$store.getters.myId}),De.app.$store.dispatch("WalletPage"),De.app.$store.dispatch("goToDragonPage",{nextIndex:1}),a();case 7:case"end":return e.stop()}},e,$e)})),function(e,t,r){return Ge.apply(this,arguments)})},{path:"Tree",name:"Tree",component:q,beforeEnter:(Ce=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!De.app.$store.getters.self.is_child_account){e.next=3;break}return De.push("/Main/ChildAccount"),e.abrupt("return");case 3:De.app.$store.dispatch("setAvailTreeType"),De.app.$store.dispatch("userDownLines",{idUser:De.app.$store.getters.myId}),De.app.$store.dispatch("WalletPage"),De.app.$store.dispatch("goToTreePage",{nextIndex:1}),a();case 8:case"end":return e.stop()}},e,$e)})),function(e,t,r){return Ce.apply(this,arguments)})},{path:"Activating",name:"Activating",component:Q,beforeEnter:(Le=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.app.$store.dispatch("goToActiveTreePage",{nextIndex:1});case 2:a();case 3:case"end":return e.stop()}},e,$e)})),function(e,t,r){return Le.apply(this,arguments)})},{path:"ChildAccount",name:"ChildAccount",component:K,beforeEnter:(We=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(De.app.$store.getters.self.is_child_account){e.next=6;break}return e.next=3,De.app.$store.dispatch("whoAmI");case 3:return De.app.$store.dispatch("allChildAccount"),e.next=6,De.app.$store.dispatch("goTo"+t.name+"Page",{nextIndex:1});case 6:De.app.$store.dispatch("userDownLines",{idUser:De.app.$store.getters.myId}),De.app.$store.dispatch("WalletPage"),a();case 9:case"end":return e.stop()}},e,$e)})),function(e,t,r){return We.apply(this,arguments)})},{path:"Wallet",name:"Wallet",component:Z,beforeEnter:(Se=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.app.$store.dispatch("WalletPage");case 2:a();case 3:case"end":return e.stop()}},e,$e)})),function(e,t,r){return Se.apply(this,arguments)})},{path:"TransferUSD",name:"TransferUSD",component:ae,beforeEnter:(Ae=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!De.app.$store.getters.self.is_child_account){e.next=3;break}return De.push("/Main/ChildAccount"),e.abrupt("return");case 3:return e.next=5,De.app.$store.dispatch("WalletPage");case 5:a();case 6:case"end":return e.stop()}},e,$e)})),function(e,t,r){return Ae.apply(this,arguments)})},{path:"TransferGems/:gem",name:"TransferGems",component:oe,beforeEnter:(Ue=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!De.app.$store.getters.self.is_child_account){e.next=3;break}return De.push("/Main/ChildAccount"),e.abrupt("return");case 3:return e.next=5,De.app.$store.dispatch("WalletPage");case 5:return e.next=7,De.app.$store.dispatch("WalletTransferMap");case 7:return e.next=9,De.app.$store.dispatch("WalletTransferRate");case 9:a();case 10:case"end":return e.stop()}},e,$e)})),function(e,t,r){return Ue.apply(this,arguments)})},{path:"Group",name:"Group",component:X,beforeEnter:(Pe=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.app.$store.dispatch("userDownLines",{idUser:De.app.$store.getters.myId});case 2:a();case 3:case"end":return e.stop()}},e,$e)})),function(e,t,r){return Pe.apply(this,arguments)})},{path:"EventsLog",name:"EventsLog",component:xe,beforeEnter:(Ie=f()(d.a.mark(function e(t,r,a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new URLSearchParams).append("operatable_type","2"),n.append("type[]","0"),n.append("type[]","2"),e.next=6,De.app.$store.dispatch("EventsLog",{nextIndex:1,searchParams:n});case 6:a();case 7:case"end":return e.stop()}},e,$e)})),function(e,t,r){return Ie.apply(this,arguments)})},{path:"WalletLog",name:"WalletLog",component:be,beforeEnter:(Te=f()(d.a.mark(function e(t,r,a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new URLSearchParams).append("operatable_type","1"),n.append("operatable_id",De.app.$store.getters.wallet.filter(function(e){return 4===e.gem}).shift().id),e.next=5,De.app.$store.dispatch("WalletLog",{nextIndex:1,searchParams:n});case 5:a();case 6:case"end":return e.stop()}},e,$e)})),function(e,t,r){return Te.apply(this,arguments)})}]}]});De.beforeEach((Ee=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("Login"!==t.name){e.next=3;break}return y.a.get("dgemToken")?De.push("/Main"):a(),e.abrupt("return");case 3:if(r.name||"Unverified"!==t.name){e.next=8;break}return De.push("/Login"),e.abrupt("return");case 8:if("Unverified"!==t.name){e.next=11;break}return a(),e.abrupt("return");case 11:if(De.app.$store.getters.isLogin||y.a.get("dgemToken")){e.next=16;break}return De.push("/Login"),e.abrupt("return");case 16:De.app.$store.getters.isLogin||De.app.$store.commit("token",y.a.get("dgemToken"));case 17:return e.next=19,De.app.$store.dispatch("getOnlyMe");case 19:if(De.app.$store.getters.emailVerified){e.next=22;break}return De.push("/Main/Unverified"),e.abrupt("return");case 22:if(r.name){e.next=31;break}return e.next=25,De.app.$store.dispatch("whoAmI");case 25:return e.next=27,De.app.$store.dispatch("allChildAccount");case 27:return e.next=29,De.app.$store.dispatch("userDownLines",{idUser:De.app.$store.getters.myId});case 29:return e.next=31,De.app.$store.dispatch("WalletPage");case 31:a();case 32:case"end":return e.stop()}},e,$e)})),function(e,t,r){return Ee.apply(this,arguments)}));var Me=De,Re=r("BTaQ"),Fe=r.n(Re);r("+skl"),r("S8AV");a.default.use(Fe.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:Me,store:I,components:{App:s},template:"<App/>"})},PyqD:function(e,t){},RQrw:function(e,t){},S8AV:function(e,t){},SBtZ:function(e,t){},SW59:function(e,t){},SWKE:function(e,t){},TRmd:function(e,t){},aQVV:function(e,t){},r7kC:function(e,t){},rnrv:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.5379d846bc320ca7f968.js.map