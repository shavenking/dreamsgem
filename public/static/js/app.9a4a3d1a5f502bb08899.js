webpackJsonp([1],{"+NWK":function(e,t){},"+skl":function(e,t){},"/q+U":function(e,t){},"1XY+":function(e,t){},"4pye":function(e,t){},"5mQY":function(e,t){},"60oD":function(e,t){},"7ky2":function(e,t){},Bsxy:function(e,t){},CwIX:function(e,t){},LzdZ:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=r("VU/8")({name:"App"},n,!1,function(e){r("nBMX")},null,null).exports,i=r("NYxO"),o=r("gRE1"),c=r.n(o),u=r("woOf"),l=r.n(u),p=r("Xxa5"),d=r.n(p),m=r("exGp"),f=r.n(m),h={state:{childAccount:{},userDownLines:{},allChildAccount:[],mySelf:{},eventsLog:{},mom:{}},getters:{myId:function(e){return e.mySelf.id},momId:function(e){return e.mom.id},myName:function(e){return e.mySelf.name},emailVerified:function(e){return e.mySelf.email_verified},eventsLog:function(e){return e.eventsLog},childAccount:function(e){return e.childAccount.data},self:function(e){return e.mySelf},downlines:function(e){return e.userDownLines.downlines},allChildAccount:function(e){return e.allChildAccount},allUsers:function(e){var t={};return t[""+e.mySelf.id]=e.mySelf,e.allChildAccount.forEach(function(e){t[e.id]=e}),e.userDownLines&&e.userDownLines.downlines&&e.userDownLines.downlines.forEach(function(e){t[e.id]=e}),c()(t).filter(function(e){return!e.activated})}},mutations:{myName:function(e,t){e.mySelf.name=t},IAm:function(e,t){e.mySelf=t},setMom:function(e,t){e.mom=t},allChildAccount:function(e,t){e.allChildAccount=t},setChildAccount:function(e,t){e.childAccount=t},setUserDownLines:function(e,t){e.userDownLines=t},eventsLog:function(e,t){e.eventsLog=t}},actions:{allChildAccount:function(e){var t=this,r=e.dispatch,a=e.commit,n=e.getters;return f()(d.a.mark(function e(){var s,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.myId,e.next=3,r("GET","/api/users/"+s+"/child-accounts?hello=world&activated=1");case 3:i=e.sent,a("allChildAccount",i);case 5:case"end":return e.stop()}},e,t)}))()},goToChildAccountPage:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=e.getters,i=t.nextIndex;return f()(d.a.mark(function e(){var t,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,t=s.momId,e.next=4,a("GET","/api/users/"+t+"/child-accounts?page="+i);case 4:return o=e.sent,e.next=7,a("accountAndWallet",{array:o.data});case 7:o.data=e.sent,n("setChildAccount",o);case 9:case"end":return e.stop()}},e,r)}))()},goToQRCodePage:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=e.getters,i=t.nextIndex;return f()(d.a.mark(function e(){var t,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,t=s.myId,e.next=4,a("GET","/api/users/"+t+"/child-accounts?page="+i);case 4:return o=e.sent,e.next=7,a("accountAndWallet",{array:o.data});case 7:o.data=e.sent,n("setChildAccount",o);case 9:case"end":return e.stop()}},e,r)}))()},addChildAccount:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=e.getters,i=t.data;return f()(d.a.mark(function e(){var t,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.myId,e.next=3,a("POST",{data:i,path:"/api/users/"+t+"/child-accounts"});case 3:return o=e.sent,e.next=6,a("accountAndWallet",{array:o.data});case 6:o.data=e.sent,n("setChildAccount",o);case 8:case"end":return e.stop()}},e,r)}))()},userDownLines:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=t.idUser;return f()(d.a.mark(function e(){var t,i,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("GET","/api/users/"+s);case 2:return t=e.sent,i=[],t.downlines.forEach(function(){var e=f()(d.a.mark(function e(t){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("allTreeStatus",{id:t.id});case 2:n=e.sent,i.push(l()({},t,n));case 4:case"end":return e.stop()}},e,r)}));return function(t){return e.apply(this,arguments)}}()),t.downlines=i,e.next=8,a("allTreeStatus",{id:t.id});case 8:o=e.sent,n("setUserDownLines",l()({},t,o));case 10:case"end":return e.stop()}},e,r)}))()},childAccountWallet:function(e,t){var r=this,a=e.dispatch,n=(e.commit,t.idUser);return f()(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("GET","/api/users/"+n+"/wallets?page=1");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,r)}))()},accountAndWallet:function(e,t){var r,a=this,n=e.dispatch,s=(e.commit,t.array);if(void 0!==s&&"Array"===s.constructor.name){var i=[];return s.forEach((r=f()(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("childAccountWallet",{idUser:t.id});case 2:e.sent.data.forEach(function(e){t["gem"+e.gem]=t.activated?e.amount:""}),i.push(l()({},t));case 5:case"end":return e.stop()}},e,a)})),function(e){return r.apply(this,arguments)})),i}return[]},whoAmI:function(e){var t=this,r=e.dispatch,a=e.commit;return f()(d.a.mark(function e(){var n,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("GET","/api/users/me");case 2:return n=e.sent,e.next=5,r("allTreeStatus",{id:n.id});case 5:s=e.sent,a("IAm",l()({},n,s));case 7:case"end":return e.stop()}},e,t)}))()},whoIsMom:function(e){var t=this,r=e.dispatch,a=e.commit;return f()(d.a.mark(function e(){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("GET","/api/users/me");case 2:n=e.sent,a("setMom",l()({},n));case 4:case"end":return e.stop()}},e,t)}))()},getOnlyMe:function(e){var t=this,r=e.dispatch,a=e.commit;return f()(d.a.mark(function e(){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("GET","/api/users/me");case 2:n=e.sent,a("IAm",l()({},n));case 4:case"end":return e.stop()}},e,t)}))()},modifyMyName:function(e){var t=this,r=e.dispatch,a=e.commit,n=e.getters;return f()(d.a.mark(function e(){var s,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.myId,e.next=3,r("PUT",{path:"/api/users/"+s,data:{name:n.myName}});case 3:i=e.sent,a("myName",i.name);case 5:case"end":return e.stop()}},e,t)}))()},allTreeStatus:function(e,t){return(0,e.dispatch)("GET","/api/users/"+t.id+"/tree-stats")},EventsLog:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=e.getters,i=t.nextIndex,o=t.searchParams;return f()(d.a.mark(function e(){var t,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,t=s.myId,(o=o||new URLSearchParams).append("page",""+i),e.next=6,a("GET","/api/users/"+t+"/operation-histories?"+o.toString());case 6:c=e.sent,n("eventsLog",c);case 8:case"end":return e.stop()}},e,r)}))()},Recall:function(e){var t=this,r=e.dispatch,a=e.getters;return f()(d.a.mark(function e(){var n,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.myId,s="/api/users/"+n+"/recalls",e.next=4,r("POST",{path:s});case 4:r("goToChildAccountPage",{nextIndex:1});case 5:case"end":return e.stop()}},e,t)}))()},ResetPassword:function(e,t){var r=e.dispatch,a=t.data;try{r("POST",{data:a,path:"/api/password-resets"})}catch(e){return"fail"}return"success"},UpdateUserPwd:function(e,t){var r=this,a=e.dispatch,n=e.getters,s=t.data;return f()(d.a.mark(function e(){var t,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.myId,i="/api/users/"+t,e.next=4,a("PUT",{path:i,data:s});case 4:case"end":return e.stop()}},e,r)}))()}}},v=r("Dd8w"),g=r.n(v),w=r("mtWM"),_=r.n(w),x=r("Y4FN"),y=r.n(x),k={CreateUser:function(e,t){var r=this,a=(e.dispatch,e.getters);return f()(d.a.mark(function e(){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={Accept:"application/json","Content-Type":"application/json"},e.next=3,_.a.post(a.host+"/api/users",t,{headers:n});case 3:case"end":return e.stop()}},e,r)}))()},Login:function(e,t){var r=this,a=(e.dispatch,e.commit),n=e.getters,s=t.name,i=t.password;return f()(d.a.mark(function e(){var t,o,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json"},o={grant_type:"password",username:s,password:i,client_id:"2",client_secret:""+n.secret},e.next=4,_.a.post(n.host+"/oauth/token",o,{headers:t});case 4:c=e.sent,y.a.set("dgemToken",c.data),a("token",c.data);case 7:case"end":return e.stop()}},e,r)}))()},Logout:function(e){(0,e.commit)("token",{access_token:"",token_type:""})},LoginQRcode:function(e){var t=this,r=(e.dispatch,e.commit),a=e.getters;return f()(d.a.mark(function e(){var n,s,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json"},s={grant_type:"qrcode",id:""+a.qrcodeUser.id,password:""+a.qrcodeUser.password,client_id:"2",client_secret:""+a.secret},e.next=4,_.a.post(a.host+"/oauth/token",s,{headers:n});case 4:i=e.sent,y.a.set("dgemToken",i.data),r("token",i.data);case 7:case"end":return e.stop()}},e,t)}))()},CreateQRcode:function(e){var t=this,r=e.commit,a=e.getters;return f()(d.a.mark(function e(){var n,s,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={Accept:"application/json"},s={id:10,password:"h%1`2{A/A",qrcode_url:"https://uim.dreamsgem.net/applets?action=/applets/dreamsgem/auth/scan-login/10"},e.next=4,_.a.post(a.host+"/api/qrcodes",s,{headers:n});case 4:i=e.sent,r("setQRcodeData",i.data);case 6:case"end":return e.stop()}},e,t)}))()},GET:function(e,t){var r=this,a=e.getters;return f()(d.a.mark(function e(){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get(""+a.host+t,{headers:g()({},a.headers)});case 2:if(200!==(n=e.sent).status){e.next=7;break}return e.abrupt("return",n.data);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}},e,r)}))()},POST:function(e,t){var r=this,a=e.getters,n=t.path,s=t.data;return f()(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.post(""+a.host+n,s,{headers:g()({},a.headers,{"Content-Type":"application/json"})});case 2:if(200!==(t=e.sent).status){e.next=7;break}return e.abrupt("return",t.data);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e,r)}))()},PUT:function(e,t){var r=this,a=e.getters,n=t.path,s=t.data;return f()(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.put(""+a.host+n,s,{headers:g()({},a.headers,{"Content-Type":"application/json"})});case 2:if(200!==(t=e.sent).status){e.next=7;break}return e.abrupt("return",t.data);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e,r)}))()}},b={state:{allDragon:{},dragon:{},activeDragon:{},dragonPrice:[],allDragonCandidate:{}},getters:{allDragon:function(e){return e.allDragon.data},dragon:function(e){return e.dragon},activeDragon:function(e){return e.activeDragon.data},dragonPrice:function(e){return e.dragonPrice},allDragonCandidate:function(e){return e.allDragonCandidate}},mutations:{setAllDragonList:function(e,t){e.allDragon=t},setDragonList:function(e,t){e.dragon=t},setActiveDragonList:function(e,t){e.activeDragon=t},setDragonPrice:function(e,t){e.dragonPrice=t},setDragonCandidate:function(e,t){e.allDragonCandidate=t}},actions:{buyDragon:function(e,t){var r=this,a=e.dispatch,n=t.data;return f()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("POST",{path:"/api/dragons",data:n});case 2:case"end":return e.stop()}},e,r)}))()},activateDragon:function(e,t){var r=this,a=e.dispatch,n=t.idDragon,s=t.data;return f()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("PUT",{path:"/api/dragons/"+n,data:s});case 2:case"end":return e.stop()}},e,r)}))()},goToAllDragonPage:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=t.nextIndex;return f()(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=s||1,e.next=3,a("GET","/api/dragons?page="+s);case 3:t=e.sent,n("setAllDragonList",t);case 5:case"end":return e.stop()}},e,r)}))()},setDragonCandidate:function(e){var t=this,r=e.dispatch,a=e.commit;return f()(d.a.mark(function e(){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("GET","/api/dragon-activation-candidates");case 2:n=e.sent,a("setDragonCandidate",n);case 4:case"end":return e.stop()}},e,t)}))()},ListDragonSummary:function(e){var t=this,r=e.dispatch,a=e.commit,n=e.getters;return f()(d.a.mark(function e(){var s,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.myId,e.next=3,r("GET","/api/users/"+s+"/dragon-summary");case 3:i=e.sent,a("setDragonList",i);case 5:case"end":return e.stop()}},e,t)}))()},goToActiveDragonPage:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=e.getters,i=t.nextIndex;return f()(d.a.mark(function e(){var t,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,t=s.myId,e.next=4,a("GET","/api/dragons?user_id="+t+"&page="+i);case 4:o=e.sent,n("setActiveDragonList",o);case 6:case"end":return e.stop()}},e,r)}))()},GetDragonPrice:function(e){var t=this,r=e.dispatch,a=e.commit;return f()(d.a.mark(function e(){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("GET","/api/dragon-prices");case 2:n=e.sent,a("setDragonPrice",n);case 4:case"end":return e.stop()}},e,t)}))()}}},$={state:{tree:{},treePrice:{},activeTree:{},availTreeType:[],allTreeCandidate:[]},getters:{tree:function(e){return e.tree},activeTree:function(e){return e.activeTree.data},availTreeType:function(e){return e.availTreeType},treePrice:function(e){return e.treePrice},allTreeCandidate:function(e){return e.allTreeCandidate}},mutations:{setTreeList:function(e,t){e.tree=t},setTreePrice:function(e,t){e.treePrice=t},setActiveTreeList:function(e,t){e.activeTree=t},setAvailTreeType:function(e,t){e.availTreeType=t},setTreeCandidate:function(e,t){e.allTreeCandidate=t}},actions:{buyTree:function(e,t){var r=this,a=e.dispatch,n=e.getters,s=t.data;return f()(d.a.mark(function e(){var t,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.myId,i="/api/users/"+t+"/trees",e.next=4,a("POST",{path:i,data:s});case 4:case"end":return e.stop()}},e,r)}))()},activateTree:function(e,t){var r=this,a=e.dispatch,n=e.getters,s=t.idTree,i=t.data;return f()(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.myId,e.next=3,a("PUT",{path:"/api/users/"+t+"/trees/"+s,data:i});case 3:case"end":return e.stop()}},e,r)}))()},setAvailTreeType:function(e){var t=this,r=e.getters,a=e.dispatch,n=e.commit;return f()(d.a.mark(function e(){var s,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.myId,e.next=3,a("GET","/api/users/"+s+"/available-tree-types");case 3:i=e.sent,n("setAvailTreeType",i);case 5:case"end":return e.stop()}},e,t)}))()},setTreeCandidate:function(e){var t=this,r=e.dispatch,a=e.commit;return f()(d.a.mark(function e(){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("GET","/api/tree-activation-candidates");case 2:n=e.sent,a("setTreeCandidate",n);case 4:case"end":return e.stop()}},e,t)}))()},ListTreeSummary:function(e){var t=this,r=e.dispatch,a=e.commit,n=e.getters;return f()(d.a.mark(function e(){var s,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.myId,e.next=3,r("GET","/api/users/"+s+"/tree-summary");case 3:i=e.sent,a("setTreeList",i);case 5:case"end":return e.stop()}},e,t)}))()},goToActiveTreePage:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=e.getters,i=t.nextIndex;return f()(d.a.mark(function e(){var t,o;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,t=s.myId,e.next=4,a("GET","/api/users/"+t+"/trees?user_id="+t+"&page="+i+"&remain_available=1");case 4:o=e.sent,n("setActiveTreeList",o);case 6:case"end":return e.stop()}},e,r)}))()},GetTreePrice:function(e){var t=this,r=e.dispatch,a=e.commit;return f()(d.a.mark(function e(){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("GET","/api/tree-prices");case 2:n=e.sent,a("setTreePrice",n);case 4:case"end":return e.stop()}},e,t)}))()}}},P={state:{wallet:{},walletLog:{},walletTransferMap:{},walletTransferRate:{},walletTransferList:{},applyList:{},cardTransferList:{},pointTransferList:{},walletTransferLimit:{}},getters:{wallet:function(e){return e.wallet.data},walletLog:function(e){return e.walletLog},idUsdWallet:function(e,t){return t.isExist("wallet","wallet")?e.wallet.data.filter(function(e){return 4===e.gem}).shift().id:0},walletTransferMap:function(e){return e.walletTransferMap},walletTransferRate:function(e){return e.walletTransferRate},walletTransferLimit:function(e){return e.walletTransferLimit},walletTransferList:function(e){return e.walletTransferList},applyList:function(e){return e.applyList},cardTransferList:function(e){return e.cardTransferList},pointTransferList:function(e){return e.pointTransferList}},mutations:{setWallet:function(e,t){e.wallet=t},walletLog:function(e,t){e.walletLog=t},setWalletTransferMap:function(e,t){e.walletTransferMap=t},setWalletTransferRate:function(e,t){e.walletTransferRate=t},setWalletTransferLimit:function(e,t){e.walletTransferLimit=t},setWalletTransferList:function(e,t){e.walletTransferList=t},setApplyList:function(e,t){e.applyList=t.data},setCardTransferList:function(e,t){e.cardTransferList=t},setPointTransferList:function(e,t){e.pointTransferList=t}},actions:{WalletPage:function(e){var t=this,r=e.dispatch,a=e.commit,n=e.getters;return f()(d.a.mark(function e(){var s,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.myId,e.next=3,r("GET","/api/users/"+s+"/wallets?page=1");case 3:i=e.sent,a("setWallet",i);case 5:case"end":return e.stop()}},e,t)}))()},TransferUSD:function(e,t){var r=this,a=e.dispatch,n=e.getters,s=t.data;return f()(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.idUsdWallet,e.next=3,a("POST",{path:"/api/wallets/"+t+"/transfers",data:s});case 3:case"end":return e.stop()}},e,r)}))()},WalletLog:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=e.getters,i=t.nextIndex,o=t.searchParams;return f()(d.a.mark(function e(){var t,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,t=s.myId,(o=o||new URLSearchParams).append("page",""+i),e.next=6,a("GET","/api/users/"+t+"/operation-histories?"+o.toString());case 6:c=e.sent,n("walletLog",c);case 8:case"end":return e.stop()}},e,r)}))()},UpdateWalletPwd:function(e,t){var r=this,a=e.dispatch,n=e.getters,s=t.data;return f()(d.a.mark(function e(){var t,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.myId,i="/api/users/"+t,e.next=4,a("PUT",{path:i,data:s});case 4:case"end":return e.stop()}},e,r)}))()},UpdateWalletAddr:function(e,t){var r=this,a=e.dispatch,n=e.getters,s=t.walletIndex,i=t.data;return f()(d.a.mark(function e(){var t,o,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.myId,o=n.wallet[s].id,c="/api/users/"+t+"/wallets/"+o,e.prev=3,e.next=6,a("PUT",{path:c,data:i});case 6:return e.abrupt("return","success");case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return","fail");case 12:case"end":return e.stop()}},e,r,[[3,9]])}))()},WalletTransferMap:function(e){var t=this,r=e.dispatch,a=e.commit;return f()(d.a.mark(function e(){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("GET","/api/wallet-transfer-map");case 2:n=e.sent,a("setWalletTransferMap",n);case 4:case"end":return e.stop()}},e,t)}))()},WalletTransferRate:function(e){var t=this,r=e.dispatch,a=e.commit;return f()(d.a.mark(function e(){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("GET","/api/wallet-transfer-rate");case 2:n=e.sent,a("setWalletTransferRate",n);case 4:case"end":return e.stop()}},e,t)}))()},ApplyWalletTransfer:function(e,t){var r=this,a=e.dispatch,n=(e.commit,t.mainGemValue),s=t.data;return f()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("POST",{path:"/api/gems/"+n+"/wallet-transfer-applications",data:s});case 2:case"end":return e.stop()}},e,r)}))()},GetWalletTransferList:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=t.mainGemValue,i=t.nextIndex,o=t.searchParams;return f()(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,(o=o||new URLSearchParams).append("page",""+i),o.append("to_gem[]","5"),o.append("to_gem[]","6"),o.append("to_gem[]","8"),e.next=8,a("GET","/api/gems/"+s+"/wallet-transfer-applications?"+o.toString());case 8:t=e.sent,n("setWalletTransferList",t);case 10:case"end":return e.stop()}},e,r)}))()},ApplyCard:function(e,t){var r=this,a=e.dispatch;e.commit;return f()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("POST",{path:"/api/card-applications",data:t});case 2:case"end":return e.stop()}},e,r)}))()},ApplyCardTransfer:function(e,t){var r=this,a=e.dispatch,n=(e.commit,t.mainGemValue),s=t.data;return f()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("POST",{path:"/api/gems/"+n+"/wallet-transfer-applications",data:s});case 2:case"end":return e.stop()}},e,r)}))()},GetCardApplyList:function(e,t){var r=this,a=e.dispatch,n=e.commit;return f()(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("GET","/api/card-applications");case 2:t=e.sent,n("setApplyList",t);case 4:case"end":return e.stop()}},e,r)}))()},GetCardTransferList:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=t.mainGemValue,i=t.nextIndex,o=t.searchParams;return f()(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,(o=o||new URLSearchParams).append("page",""+i),o.append("to_gem[]","7"),e.next=6,a("GET","/api/gems/"+s+"/wallet-transfer-applications?"+o.toString());case 6:t=e.sent,n("setCardTransferList",t);case 8:case"end":return e.stop()}},e,r)}))()},ApplyPointTransfer:function(e,t){var r=this,a=e.dispatch,n=(e.commit,t.mainGemValue),s=t.data;return f()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("POST",{path:"/api/gems/"+n+"/wallet-transfer-applications",data:s});case 2:case"end":return e.stop()}},e,r)}))()},GetPointTransferList:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=t.mainGemValue,i=t.nextIndex,o=t.searchParams;return f()(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=i||1,(o=o||new URLSearchParams).append("page",""+i),o.append("to_gem[]","5"),e.next=6,a("GET","/api/gems/"+s+"/wallet-transfer-applications?"+o.toString());case 6:t=e.sent,n("setPointTransferList",t);case 8:case"end":return e.stop()}},e,r)}))()},GetTransferLimit:function(e,t){var r=this,a=e.dispatch,n=e.commit,s=t.mainGemValue,i=t.toValue;return f()(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("GET","/api/wallet-transfer-limits?from_gem="+s+"&to_gem="+i);case 2:t=e.sent,n("setWalletTransferLimit",t);case 4:case"end":return e.stop()}},e,r)}))()}}};a.default.use(i.a);var T=new i.a.Store({state:{host:"https://dream.jjlinpai.com",token:"",token_type:"",qrCode:{},secret:"1iIpsd4MmqEaCtbvvSwovJlRGcDSzQD9xC3BY67H",apkUrl:"/downloads/android-apk"},getters:{isExist:function(e){return function(t,r){return!!e[t][r].data&&"Array"===e[t][r].data.constructor.name}},isLogin:function(e){return 0!==e.token.length},token:function(e){return e.token},host:function(e){return e.host},secret:function(e){return e.secret},paging:function(e){return function(t,r){return{total:e[t][r].total,pre_page:e[t][r].per_page,curr_page:e[t][r].current_page}}},headers:function(e){return{Accept:"application/json",Authorization:e.token_type+" "+e.token}},gems:function(){return["七彩寶石","多喜寶石","多福寶石","多財寶石","夢寶積分"]},qrcode:function(e){return e.qrCode.qrcode_url},qrcodeUser:function(e){return e.qrCode},fullApkUrl:function(e){return""+e.host+e.apkUrl}},mutations:{token:function(e,t){e.token=t.access_token,e.token_type=t.token_type},setQRcodeData:function(e,t){e.qrCode=t}},actions:k,modules:{user:h,dragon:b,tree:$,wallet:P}}),C=r("/ocq"),I={checkLogin:function(){return!!T.getters.isLogin||!!y.a.get("dgemToken")&&(T.commit("token",y.a.get("dgemToken")),!0)},verifyEmail:function(){return!!T.getters.emailVerified},checkChild:function(){return!!T.getters.self.is_child_account},fetchLoginData:function(){},removeToken:function(){y.a.remove("dgemToken")}},U=this,L={data:function(){return{isCollapsed:!1}},computed:{isFunctionEnabel:function(){return!this.$store.getters.self.is_child_account},menuitemClasses:function(){return["menu-item",U.isCollapsed?"collapsed-menu":""]},userHeadUpDisplay:function(){return""+this.$store.getters.self.name}},methods:{logOut:function(){this.$store.dispatch("Logout"),y.a.remove("dgemToken"),this.$router.push("/Login")}}},S={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"layout"},[r("Layout",[r("Sider",{attrs:{breakpoint:"md",collapsible:"","collapsed-width":78},model:{value:e.isCollapsed,callback:function(t){e.isCollapsed=t},expression:"isCollapsed"}},[r("Menu",{class:e.menuitemClasses,attrs:{"active-name":"2-1",theme:"dark",width:"auto"}},[r("Submenu",{attrs:{name:"2"}},[r("template",{slot:"title"},[r("Icon",{attrs:{type:"person"}}),e._v("\n                      個人中心\n                  ")],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/userProfile"}}},[r("MenuItem",{attrs:{name:"2-1"}},[e._v("基本資料")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/ChildAccount"}}},[r("MenuItem",{attrs:{name:"2-2"}},[e._v("子母帳號")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/QRCodes"}}},[r("MenuItem",{attrs:{name:"2-3"}},[e._v("QR Code")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/notStart"}}},[r("MenuItem",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{name:"2-4"}},[e._v("夢想卡解涷")])],1)],2),e._v(" "),r("Submenu",{attrs:{name:"3"}},[r("template",{slot:"title"},[r("Icon",{attrs:{type:"leaf"}}),e._v("\n                      夢寶龍樹種區\n                  ")],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/Dragon"}}},[r("MenuItem",{directives:[{name:"show",rawName:"v-show",value:e.isFunctionEnabel,expression:"isFunctionEnabel"}],attrs:{name:"3-2"}},[e._v("夢寶龍激活")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/Tree"}}},[r("MenuItem",{directives:[{name:"show",rawName:"v-show",value:e.isFunctionEnabel,expression:"isFunctionEnabel"}],attrs:{name:"3-3"}},[e._v("夢寶樹激活")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/EventsLog"}}},[r("MenuItem",{attrs:{name:"3-4"}},[e._v("操作明細查詢")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/Activating"}}},[r("MenuItem",{attrs:{name:"3-5"}},[e._v("開採狀況")])],1)],2),e._v(" "),r("Submenu",{attrs:{name:"4"}},[r("template",{slot:"title"},[r("Icon",{attrs:{type:"bag"}}),e._v("\n                      寶石卡片管理\n                  ")],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/Wallet"}}},[r("MenuItem",{attrs:{name:"4-1"}},[e._v("寶石庫存")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/WalletLog"}}},[r("MenuItem",{attrs:{name:"4-2"}},[e._v("進出明細")])],1),e._v(" "),r("Submenu",{directives:[{name:"show",rawName:"v-show",value:e.isFunctionEnabel,expression:"isFunctionEnabel"}],attrs:{name:"4-3"}},[r("template",{slot:"title"},[e._v("\n                      寶石轉換\n                      ")]),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/TransferGems/0"}}},[r("MenuItem",{attrs:{name:"4-3-1"}},[e._v("七彩寶石轉換")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/notStart"}}},[r("MenuItem",{attrs:{name:"4-3-2"}},[e._v("多喜寶石轉換")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/Shopping"}}},[r("MenuItem",{attrs:{name:"4-3-3"}},[e._v("多福寶石轉換")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/TransferGems/3"}}},[r("MenuItem",{attrs:{name:"4-3-4"}},[e._v("多財寶石轉換")])],1)],2)],2),e._v(" "),r("Submenu",{directives:[{name:"show",rawName:"v-show",value:e.isFunctionEnabel,expression:"isFunctionEnabel"}],attrs:{name:"5"}},[r("template",{slot:"title"},[r("Icon",{attrs:{type:"card"}}),e._v("\n                      卡片管理\n                  ")],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/ApplyCard"}}},[r("MenuItem",{attrs:{name:"5-1"}},[e._v("卡片申請")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/TransferCard"}}},[r("MenuItem",{attrs:{name:"5-2"}},[e._v("轉出")])],1)],2),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/Group"}}},[r("MenuItem",{attrs:{name:"6-1"}},[r("Icon",{attrs:{type:"person-stalker"}}),e._v("\n                家族開採狀況\n              ")],1)],1),e._v(" "),r("Submenu",{directives:[{name:"show",rawName:"v-show",value:e.isFunctionEnabel,expression:"isFunctionEnabel"}],attrs:{name:"7"}},[r("template",{slot:"title"},[r("Icon",{attrs:{type:"trophy"}}),e._v("\n                  夢寶積分管理\n                ")],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/TransferPoint"}}},[r("MenuItem",{directives:[{name:"show",rawName:"v-show",value:e.isFunctionEnabel,expression:"isFunctionEnabel"}],attrs:{name:"7-1"}},[e._v("積分轉出")])],1),e._v(" "),r("router-link",{attrs:{to:{path:"/Main/PointToC"}}},[r("MenuItem",{attrs:{name:"7-2"}},[e._v("申購碳鏈")])],1)],2)],1),e._v(" "),r("div",{attrs:{slot:"trigger"},slot:"trigger"})],1),e._v(" "),r("Layout",[r("Header",{staticClass:"layout-header-bar"},[r("span",{staticClass:"user-name"},[e._v(e._s(e.userHeadUpDisplay))]),e._v(" "),r("Button",{staticClass:"logout-button",attrs:{type:"primary"},on:{click:function(t){e.logOut()}}},[e._v("登出")])],1),e._v(" "),r("Content",{style:{padding:"20px",minHeight:"220px"}},[r("keep-alive",[r("router-view")],1)],1)],1)],1)],1)},staticRenderFns:[]};var A=r("VU/8")(L,S,!1,function(e){r("nGoO")},null,null).exports,G={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"noStart"},[this._v("\n  此帳號目前尚未驗證。\n")])},staticRenderFns:[]};var W=r("VU/8")({},G,!1,function(e){r("RQrw")},null,null).exports,E={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"noStart"},[this._v("\n  Comming soon...\n  "),t("div",{staticClass:"temp"},[t("img",{attrs:{src:"static/images/temp.gif"}})])])}]};var F=r("VU/8")({},E,!1,function(e){r("+NWK")},null,null).exports,R={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h4",[this._v("我的夢寶積分")]),this._v(" "),t("span",{staticClass:"currUSD"},[this._v(this._s(this.currUSD))]),this._v("點\n")])},staticRenderFns:[]};var M=r("VU/8")({computed:{currUSD:function(){return this.$store.getters.isExist("wallet","wallet")?this.$store.getters.wallet.filter(function(e){return 4===e.gem}).pop().amount:0}}},R,!1,function(e){r("5mQY")},"data-v-6b7317a9",null).exports,V={components:{CurrUsdWallet:M},data:function(){var e=this;return{dragonType:{0:"夢寶龍",1:"小夢寶龍"},columns1:[{title:"夢寶龍種類",key:"dragon_type",width:120},{title:"夢寶龍價格",key:"price",width:120},{title:"夢寶龍持有數量",key:"amount",width:120},{title:"選擇激活對象",key:"operate",width:200,render:function(t,r){return 0===e.dropdownItems.length?t("div","已無可激活對象"):t("div",[t("Dropdown",{props:{trigger:"click"},class:"defaultStyle",on:{"on-click":function(t){console.log(r.index),r.row.operate=e.dropdownItems.filter(function(e){return e.id===t}).shift()}}},[t("span",[r.row.operate.id+" "+r.row.operate.name+" ",t("Icon",{props:{type:"arrow-down-b"},style:{marginRight:"5px"}})]),t("DropdownMenu",{slot:"list"},e.dropdownItems.map(function(e){return t("DropdownItem",{props:{name:e.id}},e.id+" "+e.name)}))])])}},{title:"動作",key:"action",width:150,align:"center",render:function(t,r){return t("div",[t("Button",{props:{type:"primary",size:"small",disabled:!r.row.operate.id||!r.row.amount},on:{click:function(){var t=r.row.next_available_dragon.id;e.activate({data:{user_id:r.row.operate.id},idDragon:t})}}},"激活")])}}]}},computed:{dragon:function(){var e=this;return this.$store.getters.dragon.map(function(t){return t.dragon_type=e.dragonType[t.type],t.price=e.dragonPrice[t.type],t.operate={id:"",name:"選一個對象"},t})},dragonPrice:function(){return this.$store.getters.dragonPrice},dropdownItems:function(){return this.$store.getters.allDragonCandidate}},methods:{buy:function(){var e=this;return f()(d.a.mark(function t(){var r;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={owner_id:e.$store.getters.myId},t.prev=1,t.next=4,e.$store.dispatch("buyDragon",{data:r});case 4:return t.next=6,e.$store.dispatch("WalletPage");case 6:e.$store.dispatch("ListDragonSummary"),e.$Message.success("購買成功！"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.$Message.error(t.t0.response.data.message);case 13:case"end":return t.stop()}},t,e,[[1,10]])}))()},activate:function(e){var t=this;return f()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$store.dispatch("activateDragon",e);case 3:t.$store.dispatch("ListDragonSummary"),t.$store.dispatch("setDragonCandidate"),t.$store.dispatch("allChildAccount"),t.$store.dispatch("whoAmI"),t.$Message.success("激活成功！"),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),t.$Message.error(r.t0.response.data.message);case 13:case"end":return r.stop()}},r,t,[[0,10]])}))()}}},D={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("CurrUsdWallet"),e._v(" "),r("Button",{attrs:{type:"error"},on:{click:function(t){e.buy()}}},[e._v("買一隻夢寶龍")]),e._v(" "),r("Table",{attrs:{stripe:"",columns:e.columns1,data:e.dragon}})],1)},staticRenderFns:[]};var N=r("VU/8")(V,D,!1,function(e){r("gQSG")},null,null).exports,O={components:{CurrUsdWallet:M},data:function(){var e=this;return{treeName:{0:"夢寶樹（小）",1:"夢寶樹（中）",2:"夢寶樹（大）"},columns1:[{title:"夢寶樹種類",key:"tree_name",width:120},{title:"夢寶樹價格",key:"price",width:120},{title:"夢寶樹持有數量",key:"amount",width:120},{title:"選擇激活對象",key:"operate",width:200,render:function(t,r){return t("div",[t("Dropdown",{props:{trigger:"click",disabled:!0},class:"defaultStyle",on:{"on-click":function(t){r.row.operate=e.dropdownItems(r.index).filter(function(e){return e.id===t}).shift()}}},[t("span",[r.row.operate.id+" "+r.row.operate.name+" ",t("Icon",{props:{type:"arrow-down-b"},style:{marginRight:"5px"}})]),t("DropdownMenu",{slot:"list"},e.dropdownItems(r.index).map(function(e){return t("DropdownItem",{props:{name:e.id}},e.id+" "+e.name)}))])])}},{title:"動作",key:"action",width:150,align:"center",render:function(t,r){return t("div",[t("Button",{props:{type:"primary",size:"small",disabled:!r.row.operate.id||!r.row.amount},on:{click:function(){var t=r.row.next_available_tree.id;e.activate({data:{user_id:r.row.operate.id},idTree:t})}}},"激活")])}}]}},computed:{availTreeType:function(){return this.$store.getters.availTreeType},tree:function(){var e=this;return this.$store.getters.tree.map(function(t){return t.tree_name=e.treeName[t.type],t.price=e.treePrice[t.type],t.operate={id:"",name:"選一個對象"},t})},treePrice:function(){return this.$store.getters.treePrice}},methods:{buy:function(e){var t=this;return f()(d.a.mark(function r(){var a;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a={user_id:t.$store.getters.myId,type:e},r.prev=1,r.next=4,t.$store.dispatch("buyTree",{data:a});case 4:t.$store.dispatch("setAvailTreeType"),t.$store.dispatch("WalletPage"),t.$store.dispatch("ListTreeSummary"),t.$Message.success("購買成功！"),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),t.$Message.error(r.t0.response.data.message);case 13:case"end":return r.stop()}},r,t,[[1,10]])}))()},activate:function(e){var t=this;return f()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$store.dispatch("activateTree",e);case 3:t.$store.dispatch("setTreeCandidate"),t.$store.dispatch("ListTreeSummary"),t.$Message.success("激活成功！"),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),t.$Message.error(r.t0.response.data.message);case 11:case"end":return r.stop()}},r,t,[[0,8]])}))()},dropdownItems:function(e){return this.$store.getters.allTreeCandidate[e]}}},q={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("CurrUsdWallet"),e._v(" "),e._l(e.availTreeType,function(t,a){return r("Button",{key:a,staticStyle:{"margin-right":"10px"},attrs:{type:"error"},on:{click:function(r){e.buy(t)}}},[e._v("買一株"+e._s(e.treeName[t]))])}),e._v(" "),r("Table",{attrs:{stripe:"",columns:e.columns1,data:e.tree}})],2)},staticRenderFns:[]};var B=r("VU/8")(O,q,!1,function(e){r("tEyE")},null,null).exports,Q={data:function(){return{columnsTree:[{title:"擁有者",key:"owner_name",minWidth:120},{title:"剩餘開採數量",key:"remain",minWidth:120},{title:"原始開採數量",key:"capacity",minWidth:120},{title:"目前開採進度",key:"progress",minWidth:120},{title:"激活時間",key:"activated_at",minWidth:200}]}},computed:{tree:function(){return this.$store.getters.isExist("tree","activeTree")?this.$store.getters.activeTree.map(function(e){return e.owner_name=e.owner&&e.owner.name||"未指定",e.user_name=e.user&&e.user.name||"未指定",e.status=e.activated&&e.activated_at||"未激活",e}):[]},pagingTree:function(){return this.$store.getters.paging("tree","activeTree")}},methods:{changeTreePage:function(e){var t=this;return f()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("goToActiveTreePage",{nextIndex:e});case 2:case"end":return r.stop()}},r,t)}))()}}},z={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Page",{attrs:{total:e.pagingTree.total,"page-size":e.pagingTree.pre_page,simple:"",size:"small"},on:{"on-change":function(t){e.changeTreePage(t)}}}),e._v(" "),r("Table",{attrs:{stripe:"",columns:e.columnsTree,data:e.tree}})],1)},staticRenderFns:[]};var j=r("VU/8")(Q,z,!1,function(e){r("SW59")},null,null).exports,H={data:function(){var e=this;return{motherId:"",columns1:[{title:"ID",key:"id",width:140},{title:"使用者名稱",key:"name",minWidth:150},{title:this.$store.getters.gems[0],key:"gem0",minWidth:100},{title:this.$store.getters.gems[1],key:"gem1",minWidth:100},{title:this.$store.getters.gems[2],key:"gem2",minWidth:100},{title:this.$store.getters.gems[3],key:"gem3",minWidth:100},{title:"是否被凍結帳號",key:"isFrozen",minWidth:150},{title:"是否已激活",key:"isActivat",width:150},{title:"動作",key:"action",width:120,fixed:"right",align:"center",render:function(t,r){return t("div",[t("Button",{props:{type:e.isChildAccount?"success":"primary",disabled:e.isChildAccount&&e.$store.getters.self.id!==r.row.id},on:{click:function(t){if(e.isChildAccount)e.$store.dispatch("whoAmI");else{var a=e.$store.getters.childAccount.filter(function(e){return e.id===r.row.id}).shift();e.$store.commit("IAm",a)}}}},e.labelTitle)])}}]}},computed:{isChildAccount:function(){return this.$store.getters.self.is_child_account},labelTitle:function(){return this.$store.getters.self.is_child_account?"恢復身份":"變身"},childAccount:function(){return this.$store.getters.isExist("user","childAccount")?this.$store.getters.childAccount.map(function(e){return e.isFrozen=e.frozen?"是":"否",e.isActivat=e.activated?"是":"否",e.action={label:"變身"},e}).sort(function(e,t){return parseInt(e.id)-parseInt(t.id)}):[]},paging:function(){return this.$store.getters.paging("user","childAccount")}},methods:{changePage:function(e){var t=this;return f()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("goToChildAccountPage",{nextIndex:e});case 2:case"end":return r.stop()}},r,t)}))()},addChildAccount:function(){var e=this;return f()(d.a.mark(function t(){var r,a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$store.getters.paging("user","childAccount").curr_page,a={upline_id:e.motherId},t.prev=2,t.next=5,e.$store.dispatch("addChildAccount",{data:a});case 5:e.$store.dispatch("goToChildAccountPage",{nextIndex:r}),e.$Message.success("子帳號建立成功"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),e.$Message.error(t.t0.response.data.message);case 12:case"end":return t.stop()}},t,e,[[2,9]])}))()},recall:function(){var e=this;return f()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("Recall");case 2:case"end":return t.stop()}},t,e)}))()}}},X={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("子帳號")]),e._v(" "),r("Button",{staticStyle:{"margin-bottom":"1rem"},attrs:{type:"primary"},on:{click:function(t){e.recall()}}},[e._v("一鍵召回")]),r("br"),e._v(" "),r("label",{attrs:{for:"motherId"}},[e._v("指定帳號 ID: ")]),r("Input",{staticStyle:{width:"120px"},attrs:{id:"motherId",placeholder:"0"},model:{value:e.motherId,callback:function(t){e.motherId=t},expression:"motherId"}}),e._v(" "),r("Button",{attrs:{type:"error",disabled:e.isChildAccount},on:{click:function(t){e.addChildAccount()}}},[e._v("增加子帳號")]),e._v(" "),r("Page",{attrs:{total:e.paging.total,"page-size":e.paging.pre_page,simple:"",size:"small"},on:{"on-change":function(t){e.changePage(t)}}}),e._v(" "),r("Table",{attrs:{stripe:"",columns:e.columns1,data:e.childAccount}})],1)},staticRenderFns:[]};var Y=r("VU/8")(H,X,!1,function(e){r("/q+U")},null,null).exports,Z={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{},[t("Table",{attrs:{stripe:"",columns:this.columns1,data:this.wallet}})],1)},staticRenderFns:[]};var J=r("VU/8")({data:function(){return{columns1:[{title:"寶石種類",key:"gem_name",minWidth:120,render:function(e,t){return e("div",[e("img",{class:{"gem-icon":!0},domProps:{src:"static/images/icon_gem"+t.index+".png"}}),e("span",t.row.gem_name)])}},{title:"寶石種類",key:"amount",minWidth:120}]}},computed:{wallet:function(){var e=this;if(this.$store.getters.isExist("wallet","wallet")){var t=this.$store.getters.wallet.map(function(t){return t.gem_name=e.$store.getters.gems[t.gem],t});return t.splice(this.$store.getters.gems.length),t}return[]}}},Z,!1,function(e){r("4pye")},null,null).exports,K={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("自己")]),e._v(" "),r("Table",{attrs:{stripe:"",columns:e.columnsUser,data:e.self}}),e._v(" "),r("h1",[e._v("家族")]),e._v(" "),r("Table",{attrs:{stripe:"",columns:e.columnsUser,data:e.downlines}})],1)},staticRenderFns:[]};var ee=r("VU/8")({data:function(){return{columnsUser:[{title:"ID",key:"id",width:140},{title:"name",key:"name",minWidth:150},{title:"總產出數",key:"total_capacity",minWidth:85},{title:"未產出",key:"total_remain",minWidth:75},{title:"已產出",key:"total_processed",minWidth:75},{title:"家族帳號數量",key:"total_user_count",minWidth:110},{title:"是否子帳號",key:"isChild",minWidth:100},{title:"是否激活",key:"isActivat",minWidth:85}]}},computed:{self:function(){return[this.$store.getters.self].map(function(e){return e.total_processed=e.total_capacity-e.total_remain,e.isActivat=e.activated?"是":"否",e.isChild=e.is_child_account?"是":"否",e})},downlines:function(){return this.$store.getters.downlines.map(function(e){return e.total_processed=e.total_capacity-e.total_remain,e.isActivat=e.activated?"是":"否",e.isChild=e.is_child_account?"是":"否",e})}}},K,!1,function(e){r("RM4p")},"data-v-08923d38",null).exports,te={components:{CurrUsdWallet:M},data:function(){return{transferUSD:{id:"",amount:0,password:""},transferUSDRule:{id:[{required:!0,type:"string",trigger:"blur",message:"請填寫 ID"}],amount:[{required:!0,validator:function(e,t,r){t<=0&&r(new Error("轉換數量必須大於 0")),r()},trigger:"blur"}],password:[{required:!0,validator:function(e,t,r){(""===t||t.length<6)&&r(new Error("填入密碼，符合長度 6 個字元以上")),r()},trigger:"blur"}]},busy:!1}},computed:{currUSD:function(){return this.$store.getters.isExist("wallet","wallet")?this.$store.getters.wallet.filter(function(e){return 4===e.gem}).pop().amount:0},myId:function(){return this.$store.getters.myId}},methods:{handleSubmit:function(e){var t,r=this;this.$refs[e].validate((t=f()(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=18;break}return r.busy=!0,a={user_id:r.transferUSD.id,amount:r.transferUSD.amount,wallet_password:r.transferUSD.password},e.prev=3,e.next=6,r.$store.dispatch("TransferUSD",{data:a});case 6:return e.next=8,r.$store.dispatch("WalletPage");case 8:r.busy=!1,r.$Message.success("轉出成功！"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),r.$Message.error(e.t0.response.data.message),r.busy=!1;case 16:e.next=19;break;case 18:r.$Message.error("轉出失敗，請確認資料是否確實填寫");case 19:r.handleReset("TransferUSD");case 20:case"end":return e.stop()}},e,r,[[3,12]])})),function(e){return t.apply(this,arguments)}))},handleReset:function(e){this.$refs[e].resetFields()}}},re={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Form",{ref:"TranfserUSD",staticStyle:{"max-width":"300px"},attrs:{model:e.transferUSD,rules:e.transferUSDRule,"label-position":"top"}},[r("FormItem",[r("CurrUsdWallet")],1),e._v(" "),r("FormItem",{attrs:{label:"轉出對象",prop:"id"}},[r("Input",{staticClass:"input-id",staticStyle:{width:"300px"},attrs:{placeholder:""+e.myId,clearable:""},model:{value:e.transferUSD.id,callback:function(t){e.$set(e.transferUSD,"id",t)},expression:"transferUSD.id"}})],1),e._v(" "),r("FormItem",{attrs:{label:"轉出數量",prop:"amount"}},[r("Input",{staticClass:"input-amount",staticStyle:{width:"300px"},attrs:{placeholder:"0",clearable:""},model:{value:e.transferUSD.amount,callback:function(t){e.$set(e.transferUSD,"amount",t)},expression:"transferUSD.amount"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請輸入二級密碼",prop:"password"}},[r("Input",{attrs:{type:"password"},model:{value:e.transferUSD.password,callback:function(t){e.$set(e.transferUSD,"password",t)},expression:"transferUSD.password"}})],1),e._v(" "),r("FormItem",[r("Alert",{attrs:{type:"error"}},[e._v("接下來的行為，將不可回溯!!")])],1),e._v(" "),r("FormItem",[r("Button",{attrs:{type:"error"},on:{click:function(t){e.handleSubmit("TranfserUSD")}}},[e._v("轉出")])],1),e._v(" "),r("FormItem",[e.busy?r("Spin",[e._v("轉出中...")]):e._e()],1)],1)],1)},staticRenderFns:[]};var ae,ne=r("VU/8")(te,re,!1,function(e){r("7ky2")},"data-v-ec2b6a9c",null).exports,se=this,ie={name:"TransferGems",beforeRouteEnter:(ae=f()(d.a.mark(function e(t,r,a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params.gem,e.next=3,T.dispatch("GetWalletTransferList",{mainGemValue:n});case 3:a();case 4:case"end":return e.stop()}},e,se)})),function(e,t,r){return ae.apply(this,arguments)}),created:function(){this.transferGems.selectedGem=this.gemList[0].value,this.setWalletAddress(this.transferGems.selectedGem),this.mainGemValue=this.$route.params.gem,this.walletName=this.listLookUp[this.pageGem]},watch:{$route:function(e,t){if(this.$route.params.hasOwnProperty("gem")){this.mainGemValue=this.$route.params.gem,this.walletName=this.listLookUp[this.pageGem];var r=this.mainGemValue;this.$store.dispatch("GetWalletTransferList",{mainGemValue:r}),this.handleReset("transferGems")}}},data:function(){var e=this;return{mainGemValue:0,walletName:"",listLookUp:{0:"七彩寶石",1:"多喜寶石",2:"多福寶石",3:"多財寶石",4:"夢寶積分",5:"ECN 碳鏈",6:"MANC 財神鏈",7:"美金",8:"圓夢積分",9:"HTA"},statusLookUp:{0:"審核中"},transferGems:{selectedGem:null,walletAddress:"",fromValue:0,toValue:0,password:""},transferRule:{selectedGem:[{required:!0,type:"number",trigger:"blur",message:"請選擇轉換寶石種類"}],fromValue:[{required:!0,type:"number",validator:function(t,r,a){r<=0&&a(new Error("轉換數量必須大於 0")),r%e.fromLimit!=0&&a(new Error("轉換數量必須是 "+e.fromLimit+" 的倍數")),a()},trigger:"blur"}],password:[{required:!0,validator:function(e,t,r){(""===t||t.length<6)&&r(new Error("填入密碼，符合長度 6 個字元以上")),r()},trigger:"blur"}]},transferApplyCols:[{title:"來源寶石",key:"from_gem",minWidth:120},{title:"轉換寶石",key:"to_gem",minWidth:120},{title:"匯率",key:"rate",minWidth:120},{title:"數量",key:"amount",minWidth:120},{title:"目前狀態",key:"status",minWidth:120},{title:"建立時間",key:"updated_at",minWidth:120}]}},computed:{pageGem:function(){return this.mainGemValue},currentGem:function(){var e=this;return this.$store.getters.wallet.find(function(t){return t.gem===Number(e.mainGemValue)}).amount},gemList:function(){var e=this,t=this.$store.getters.walletTransferMap[this.mainGemValue].map(function(t){return{name:e.listLookUp[t],value:t}});return"0"===this.mainGemValue?t.filter(function(e){return 7!==e.value}):t},walletAddress:function(){return this.transferGems.waleltAddress},transferRate:function(){var e=this.pageGem+":"+this.transferGems.selectedGem;return this.$store.getters.walletTransferRate[e]||"請選擇兌換幣種"},fromValue:{get:function(){return this.transferGems.fromValue},set:function(e){this.transferGems.fromValue=Number(e),this.transferGems.toValue=Number((e*this.toFromRatio).toFixed(1))}},toValue:{get:function(){return this.transferGems.toValue},set:function(e){this.transferGems.toValue=Number(e),this.transferGems.fromValue=Number((e/this.toFromRatio).toFixed(1))}},fromLimit:function(){return this.transferRate.charAt(0)},toLimit:function(){return this.transferRate.charAt(2)},toFromRatio:function(){return this.toLimit/this.fromLimit},walletTransferList:function(){var e=this,t=this.$store.getters.walletTransferList.data;return t.map(function(t){t.from_gem=e.listLookUp[t.from_wallet.gem],t.to_gem=e.listLookUp[t.to_wallet.gem],t.status=e.statusLookUp[t.status]}),t},paging:function(){return this.$store.getters.paging("wallet","walletTransferList")}},methods:{setWalletAddress:function(e){this.transferGems.walletAddress=this.$store.getters.wallet[e].external_address},handleSubmit:function(e){var t,r=this;this.$refs[e].validate((t=f()(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=19;break}return a=r.mainGemValue,n={to_gem:r.transferGems.selectedGem,amount:r.transferGems.fromValue,wallet_password:r.transferGems.password},e.prev=3,e.next=6,r.$store.dispatch("ApplyWalletTransfer",{mainGemValue:a,data:n});case 6:return e.next=8,r.$store.dispatch("WalletPage");case 8:return e.next=10,r.$store.dispatch("GetWalletTransferList",{mainGemValue:a});case 10:r.$Message.success("申請成功！請等待審核通知"),r.handleReset("transferGems"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),r.$Message.error(e.t0.response.data.message);case 17:e.next=20;break;case 19:r.$Message.error("申請失敗，請確實填寫資料");case 20:case"end":return e.stop()}},e,r,[[3,14]])})),function(e){return t.apply(this,arguments)}))},handleReset:function(e){this.$refs[e].resetFields()},changePage:function(e){var t=this;return f()(d.a.mark(function r(){var a,n;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.mainGemValue,n=new URLSearchParams,r.next=4,t.$store.dispatch("GetWalletTransferList",{mainGemValue:a,nextIndex:e,searchParams:n});case 4:case"end":return r.stop()}},r,t)}))()}}},oe={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h4",[e._v("我的"+e._s(e.walletName))]),e._v(" "),r("p",[r("span",{staticClass:"wallet-value"},[e._v(e._s(e.currentGem))]),e._v("點")]),e._v(" "),r("Form",{ref:"transferGems",staticStyle:{"max-width":"300px"},attrs:{model:e.transferGems,rules:e.transferRule,"label-position":"top"}},[r("FormItem",{attrs:{label:"轉換種類",prop:"selectedGem"}},[r("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"請選擇轉換種類"},on:{"on-change":function(t){e.setWalletAddress(t)}},model:{value:e.transferGems.selectedGem,callback:function(t){e.$set(e.transferGems,"selectedGem",t)},expression:"transferGems.selectedGem"}},e._l(e.gemList,function(t){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.name))])}))],1),e._v(" "),r("FormItem",{attrs:{label:"錢包位置",prop:"walletAddress"}},[r("Input",{attrs:{type:"text",readonly:""},model:{value:e.transferGems.walletAddress,callback:function(t){e.$set(e.transferGems,"walletAddress",t)},expression:"transferGems.walletAddress"}})],1),e._v(" "),r("FormItem",{attrs:{label:"兌換比例: "+e.transferRate}},[r("Row",[r("Col",{attrs:{span:"11"}},[r("FormItem",{attrs:{prop:"fromValue"}},[r("InputNumber",{attrs:{min:0},model:{value:e.fromValue,callback:function(t){e.fromValue=t},expression:"fromValue"}}),e._v(" "),r("span",[e._v(e._s(e.walletName))])],1)],1),e._v(" "),r("Col",{attrs:{span:"2"}},[e._v("->")]),e._v(" "),r("Col",{attrs:{span:"11"}},[r("FormItem",{attrs:{prop:"toValue"}},[r("InputNumber",{attrs:{min:0},model:{value:e.toValue,callback:function(t){e.toValue=t},expression:"toValue"}}),e._v(" "),r("span",[e._v(e._s(e.listLookUp[e.transferGems.selectedGem]))])],1)],1)],1)],1),e._v(" "),r("FormItem",{attrs:{label:"請輸入二級密碼",prop:"password"}},[r("Input",{attrs:{type:"password"},model:{value:e.transferGems.password,callback:function(t){e.$set(e.transferGems,"password",t)},expression:"transferGems.password"}})],1),e._v(" "),r("FormItem",[r("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("transferGems")}}},[e._v("申請轉換")])],1)],1),e._v(" "),r("h4",[e._v("寶石轉換申請狀態")]),e._v(" "),r("Page",{attrs:{total:e.paging.total,"page-size":e.paging.pre_page,simple:"",size:"small"},on:{"on-change":function(t){e.changePage(t)}}}),e._v(" "),r("Table",{attrs:{columns:e.transferApplyCols,data:e.walletTransferList}})],1)},staticRenderFns:[]};var ce=r("VU/8")(ie,oe,!1,function(e){r("Obg2")},null,null).exports,ue=r("QlUI"),le=r.n(ue),pe={data:function(){return{showButton:!1}},mounted:function(){var e=this;return f()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("CreateQRcode");case 2:e.renderQRcode(),setTimeout(function(){e.isLoginSuccess()},3500);case 4:case"end":return t.stop()}},t,e)}))()},computed:{apkUrl:function(){return this.$store.getters.fullApkUrl}},methods:{renderQRcode:function(){var e=le()(0,"L");e.addData(""+this.$store.getters.qrcode),e.make(),document.querySelector("#qrcodeImg").src=e.createDataURL(10),this.showButton=!0},isLoginSuccess:function(){var e=this;return f()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("LoginQRcode");case 3:e.$router.push("/Main"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.$store.getters.isLogin||setTimeout(e.isLoginSuccess,2e3);case 9:case"end":return t.stop()}},t,e,[[0,6]])}))()}}},de={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",{staticClass:"yellow-panel"},[this._v("行動裝置刷 QR code 登入")]),this._v(" "),this._m(0),this._v(" "),t("div",{staticClass:"download-apk"},[t("a",{attrs:{href:this.apkUrl}},[this._v("點此下載行動裝置 App")])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"placeHolder"}},[t("img",{attrs:{id:"qrcodeImg",src:"",alt:""}})])}]};var me={components:{QRcodeLogin:r("VU/8")(pe,de,!1,function(e){r("60oD")},"data-v-0fb0d404",null).exports},created:function(){this.$route.query.hasOwnProperty("upline_id")&&(this.switchAreaType=!1,this.SignUp.upline_id=this.$route.query.upline_id)},data:function(){var e=this;return{areaType:{true:"註冊新帳號",false:"帳號密碼登入"},switchAreaType:!0,SignIn:{username:"",password:""},SignInRule:{username:[{required:!0,message:"填入要登入的使用者䁥稱",trigger:"blur"}],password:[{required:!0,message:"填入要登入的使用者䁥稱相對應的密碼",trigger:"blur"},{type:"string",min:6,message:"長度要有 6 個字元",trigger:"blur"}]},SignUp:{name:"",email:"",password:"",passwordCheck:"",walletPassword:"",walletPasswordCheck:"",upline_id:0},SignUpRule:{name:[{required:!0,message:"填入要註冊的使用者帳號",trigger:"blur"}],email:[{required:!0,message:"填入要註冊的 E-mail",trigger:"blur"},{type:"email",message:"請檢查 E-mail 格式，是否有誤",trigger:"blur"}],password:[{required:!0,validator:function(t,r,a){""===r||r.length<6?a(new Error("填入密碼，符合長度 6 個字元以上")):(""!==e.SignUp.passwordCheck&&e.$refs.SignUp.validateField("passwordCheck"),a())},trigger:"blur"}],passwordCheck:[{required:!0,validator:function(t,r,a){""===r?a(new Error("再填入一樣的密碼")):r!==e.SignUp.password?a(new Error("兩邊不一樣，請再確認")):a()},trigger:"blur"}],walletPassword:[{required:!0,validator:function(t,r,a){""===r||r.length<6?a(new Error("填入密碼，符合長度 6 個字元以上")):(""!==e.SignUp.passwordCheck&&e.$refs.SignUp.validateField("walletPasswordCheck"),a())},trigger:"blur"}],walletPasswordCheck:[{required:!0,validator:function(t,r,a){""===r?a(new Error("再填入一樣的密碼")):r!==e.SignUp.walletPassword?a(new Error("兩邊不一樣，請再確認")):a()},trigger:"blur"}],upline_id:[{required:!0,type:"number",validator:function(e,t,r){t<1?r(new Error("填入上線的 ID 號碼")):r()},trigger:"blur"}]}}},methods:{signIn:function(){var e,t=this;this.$refs.SignIn.validate((e=f()(d.a.mark(function e(r){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=12;break}return e.prev=1,e.next=4,t.$store.dispatch("Login",{password:t.SignIn.password,name:t.SignIn.username});case 4:t.$router.push("/Main"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t.$Message.error(e.t0.response.data.message);case 10:e.next=13;break;case 12:t.$Message.error("帳號密碼格式出錯");case 13:case"end":return e.stop()}},e,t,[[1,7]])})),function(t){return e.apply(this,arguments)}))},signUp:function(){var e,t=this;this.$refs.SignUp.validate((e=f()(d.a.mark(function e(r){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=13;break}return a={email:t.SignUp.email,name:t.SignUp.name,password:t.SignUp.password,wallet_password:t.SignUp.walletPassword,upline_id:t.SignUp.upline_id},e.prev=2,e.next=5,t.$store.dispatch("CreateUser",a);case 5:t.switchAreaType=!0,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t.$Message.error(e.t0.response.data.message);case 11:e.next=14;break;case 13:t.$Message.error("註冊失敗");case 14:case"end":return e.stop()}},e,t,[[2,8]])})),function(t){return e.apply(this,arguments)}))},reset:function(){this.$refs.SignUp.resetFields()}}},fe={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"loginIn"},[r("QRcodeLogin"),e._v(" "),r("div",{staticClass:"green-panel"},[e._m(0),e._v(" "),r("div",[r("i-switch",{model:{value:e.switchAreaType,callback:function(t){e.switchAreaType=t},expression:"switchAreaType"}}),e._v(" "),r("span",[e._v("切換到 "+e._s(e.areaType[e.switchAreaType]))])],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!!e.switchAreaType,expression:"!!switchAreaType"}],staticClass:"SignIn"},[r("div",{staticStyle:{"text-align":"right"}},[r("router-link",{staticStyle:{color:"#FFF"},attrs:{to:{path:"/ForgetPW"}}},[e._v("忘記密碼？")])],1),e._v(" "),r("Form",{ref:"SignIn",attrs:{model:e.SignIn,rules:e.SignInRule,"label-position":"top"}},[r("FormItem",{attrs:{label:"請填入註冊信箱",prop:"username"}},[r("Input",{attrs:{type:"text"},model:{value:e.SignIn.username,callback:function(t){e.$set(e.SignIn,"username",t)},expression:"SignIn.username"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請填入密碼",prop:"password"}},[r("Input",{attrs:{type:"password"},model:{value:e.SignIn.password,callback:function(t){e.$set(e.SignIn,"password",t)},expression:"SignIn.password"}})],1),e._v(" "),r("div",{staticClass:"submit"},[r("Button",{staticClass:"yellow-panel dg-btn login",attrs:{type:"primary"},on:{click:function(t){e.signIn()}}},[e._v("登入")])],1)],1)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.switchAreaType,expression:"!switchAreaType"}],staticClass:"SignUp"},[r("Form",{ref:"SignUp",attrs:{model:e.SignUp,rules:e.SignUpRule,"label-position":"top"}},[r("FormItem",{attrs:{label:"請填入使用者䁥稱",prop:"name"}},[r("Input",{attrs:{type:"text"},model:{value:e.SignUp.name,callback:function(t){e.$set(e.SignUp,"name",t)},expression:"SignUp.name"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請填入 E-mail",prop:"email"}},[r("Input",{attrs:{type:"email"},model:{value:e.SignUp.email,callback:function(t){e.$set(e.SignUp,"email",t)},expression:"SignUp.email"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請填入密碼",prop:"password"}},[r("Input",{attrs:{type:"password"},model:{value:e.SignUp.password,callback:function(t){e.$set(e.SignUp,"password",t)},expression:"SignUp.password"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請再次填入密碼",prop:"passwordCheck"}},[r("Input",{attrs:{type:"password"},model:{value:e.SignUp.passwordCheck,callback:function(t){e.$set(e.SignUp,"passwordCheck",t)},expression:"SignUp.passwordCheck"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請填入二級密碼",prop:"walletPassword"}},[r("Input",{attrs:{type:"password"},model:{value:e.SignUp.walletPassword,callback:function(t){e.$set(e.SignUp,"walletPassword",t)},expression:"SignUp.walletPassword"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請再次填入二級密碼",prop:"walletPasswordCheck"}},[r("Input",{attrs:{type:"password"},model:{value:e.SignUp.walletPasswordCheck,callback:function(t){e.$set(e.SignUp,"walletPasswordCheck",t)},expression:"SignUp.walletPasswordCheck"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請填入上線 ID",prop:"upline_id"}},[r("Input",{model:{value:e.SignUp.upline_id,callback:function(t){e.$set(e.SignUp,"upline_id",t)},expression:"SignUp.upline_id"}})],1),e._v(" "),r("div",{staticClass:"submit"},[r("Button",{staticClass:"yellow-panel dg-btn",attrs:{type:"primary"},on:{click:function(t){e.signUp()}}},[e._v("確認")]),e._v(" "),r("Button",{staticClass:"yellow-panel dg-btn",attrs:{type:"ghost"},on:{click:function(t){e.reset()}}},[e._v("取消")])],1)],1)],1)])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{staticClass:"logo"},[t("img",{attrs:{src:"/static/images/dg_logo.png"}})])}]};var he=r("VU/8")(me,fe,!1,function(e){r("CwIX")},"data-v-6c1500e6",null).exports,ve={name:"ForgetPW",data:function(){return{getPW:{email:""},getPWRule:{email:[{required:!0,trigger:"blur",message:"請輸入註冊信箱"}]}}},methods:{handleSubmit:function(e){var t,r=this;this.$refs[e].validate((t=f()(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return a={email:r.getPW.email},e.next=4,r.$store.dispatch("ResetPassword",{data:a});case 4:"success"===e.sent?(r.$Message.success("已發送新密碼至您的信箱，請前往確認"),r.handleReset("getPW")):r.$Message.error("發送密碼失敗，請稍後再試"),e.next=9;break;case 8:r.$Message.error("發送密碼失敗，請確認資料填寫是否完整");case 9:case"end":return e.stop()}},e,r)})),function(e){return t.apply(this,arguments)}))},handleReset:function(e){this.$refs[e].resetFields()}}},ge={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"forgetPW"},[r("Form",{ref:"getPW",staticClass:"green-panel",attrs:{model:e.getPW,rules:e.getPWRule}},[r("FormItem",[r("h1",[e._v("忘記密碼")])]),e._v(" "),r("FormItem",{attrs:{label:"Email",prop:"email"}},[r("Input",{attrs:{type:"text"},model:{value:e.getPW.email,callback:function(t){e.$set(e.getPW,"email",t)},expression:"getPW.email"}})],1),e._v(" "),r("FormItem",[r("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("getPW")}}},[e._v("取得新密碼")])],1)],1)],1)},staticRenderFns:[]};var we=r("VU/8")(ve,ge,!1,function(e){r("aduo")},"data-v-74845c9c",null).exports,_e={created:function(){this.setWalletAddr()},data:function(){var e=this,t=function(t,r,a){""===r||r.length<6?a(new Error("填入密碼，符合長度 6 個字元以上")):(""!==e.UpdatePwd.newPasswordCheck&&e.$refs.UpdatePwd.validateField("newPasswordCheck"),a())},r=function(t,r,a){""===r||r.length<6?a(new Error("填入密碼，符合長度 6 個字元以上")):(""!==e.UpdateWalletPwd.newPasswordCheck&&e.$refs.UpdateWalletPwd.validateField("newPasswordCheck"),a())};return{UpdatePwd:{password:"",newPassword:"",newPasswordCheck:""},UpdatePwdRule:{password:[{required:!0,validator:t,trigger:"blur"}],newPassword:[{required:!0,validator:t,trigger:"blur"}],newPasswordCheck:[{required:!0,validator:function(t,r,a){""===r?a(new Error("請再次確認新二級密碼")):r!==e.UpdatePwd.newPassword?a(new Error("兩邊不一樣，請再確認")):a()},trigger:"blur"}]},UpdateWalletPwd:{password:"",newPassword:"",newPasswordCheck:""},UpdateWalletPwdRule:{password:[{required:!0,validator:r,trigger:"blur"}],newPassword:[{required:!0,validator:r,trigger:"blur"}],newPasswordCheck:[{required:!0,validator:function(t,r,a){""===r?a(new Error("請再次確認新二級密碼")):r!==e.UpdateWalletPwd.newPassword?a(new Error("兩邊不一樣，請再確認")):a()},trigger:"blur"}]},wallet:[{id:5,name:"碳鏈"},{id:6,name:"財神鏈"},{id:7,name:"卡片號碼"},{id:8,name:"圓夢積分"}],addrGroup:{5:{address:""},6:{address:""},7:{address:""},8:{address:""}},addrRuleGroup:{5:{address:[{required:!0,trigger:"blur",message:"請輸入錢包地址"}]},6:{address:[{required:!0,trigger:"blur",message:"請輸入錢包地址"}]},7:{address:[{required:!0,trigger:"blur",message:"請輸入錢包地址"}]},8:{address:[{required:!0,trigger:"blur",message:"請輸入錢包地址"}]}},nickName:{canModify:!1},userPassword:{isOpen:!1},walletPassword:{isOpen:!1},setWalletAddress:{isOpen:!1},columnsDragon:[{title:"夢寶龍的擁有者",key:"owner_name",minWidth:150},{title:"夢寶龍激活對象",key:"user_name",minWidth:150},{title:"是否激活",key:"isActivat",minWidth:100}]}},computed:{dragon:function(){return this.$store.getters.isExist("dragon","activeDragon")?this.$store.getters.activeDragon.map(function(e){return e.owner_name=e.owner&&e.owner.name||"未指定",e.user_name=e.user&&e.user.name||"未指定",e.isActivat=e.activated?"是":"否",e}):[]},pagingDragon:function(){return this.$store.getters.paging("dragon","activeDragon")},mode:function(){return{readOnly:!this.nickName.canModify}},userPasswordMode:function(){return this.userPassword.isOpen},walletPasswordMode:function(){return this.walletPassword.isOpen},walletAddressMode:function(){return this.setWalletAddress.isOpen},userName:{get:function(){return this.$store.getters.myName},set:function(e){this.$store.commit("myName",e)}}},methods:{setWalletAddr:function(){for(var e in this.addrGroup)this.addrGroup[e].address=this.$store.getters.wallet[e].external_address},changeDragonPage:function(e){var t=this;return f()(d.a.mark(function r(){return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("goToActiveDragonPage",{nextIndex:e});case 2:case"end":return r.stop()}},r,t)}))()},change:function(){var e=this;return f()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.nickName.canModify){t.next=3;break}return t.next=3,e.$store.dispatch("whoAmI");case 3:case"end":return t.stop()}},t,e)}))()},modifyUserName:function(){var e=this;return f()(d.a.mark(function t(){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("modifyMyName");case 3:e.$store.dispatch("goToActiveDragonPage",{nextIndex:1}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.$Message.error(t.t0.response.data.message);case 9:e.nickName.canModify=!1,e.$Message.success("暱稱修改成功");case 11:case"end":return t.stop()}},t,e,[[0,6]])}))()},updatePwd:function(){var e,t=this;this.$refs.UpdatePwd.validate((e=f()(d.a.mark(function e(r){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=16;break}return a={password:t.UpdatePwd.password,new_password:t.UpdatePwd.newPassword},e.prev=2,e.next=5,t.$store.dispatch("UpdateUserPwd",{data:a});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(2),t.$Message.error(e.t0.response.data.message),e.abrupt("return");case 11:t.$Message.success("密碼修改成功"),t.reset("UpdatePwd"),t.userPassword.isOpen=!1,e.next=17;break;case 16:t.$Message.error("修改密碼失敗");case 17:case"end":return e.stop()}},e,t,[[2,7]])})),function(t){return e.apply(this,arguments)}))},updateWalletPwd:function(){var e,t=this;this.$refs.UpdateWalletPwd.validate((e=f()(d.a.mark(function e(r){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=16;break}return a={wallet_password:t.UpdateWalletPwd.password,new_wallet_password:t.UpdateWalletPwd.newPassword},e.prev=2,e.next=5,t.$store.dispatch("UpdateWalletPwd",{data:a});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(2),t.$Message.error(e.t0.response.data.message),e.abrupt("return");case 11:t.reset("UpdateWalletPwd"),t.$Message.success("密碼修改成功"),t.walletPassword.isOpen=!1,e.next=17;break;case 16:t.$Message.error("修改二級密碼失敗");case 17:case"end":return e.stop()}},e,t,[[2,7]])})),function(t){return e.apply(this,arguments)}))},updateWalletAddr:function(e){var t,r=this;this.$refs["UpdateGem"+e+"Addr"][0].validate((t=f()(d.a.mark(function t(a){var n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=14;break}return n={external_address:r.addrGroup[e].address},t.prev=2,t.next=5,r.$store.dispatch("UpdateWalletAddr",{walletIndex:e,data:n});case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(2),r.$Message.error(t.t0.response.data.message),t.abrupt("return");case 11:r.$Message.success("設定錢包位址成功"),t.next=15;break;case 14:r.$Message.error("設定錢包位址失敗");case 15:case"end":return t.stop()}},t,r,[[2,7]])})),function(e){return t.apply(this,arguments)}))},reset:function(e){this.$refs[e].resetFields()}}},xe={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"userProfile"},[r("h1",[e._v("個人資料")]),e._v(" "),r("Form",[r("FormItem",{attrs:{label:"修改䁥稱",inline:""}},[r("i-switch",{on:{"on-change":function(t){e.change()}},model:{value:e.nickName.canModify,callback:function(t){e.$set(e.nickName,"canModify",t)},expression:"nickName.canModify"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v("開")]),e._v(" "),r("span",{attrs:{slot:"close"},slot:"close"},[e._v("關")])])],1),e._v(" "),r("FormItem",[r("Input",{class:e.mode,staticStyle:{width:"300px"},attrs:{readonly:!e.nickName.canModify,placeholder:"Enter something..."},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),e._v(" "),r("Button",{directives:[{name:"show",rawName:"v-show",value:e.nickName.canModify,expression:"nickName.canModify"}],attrs:{type:"primary"},on:{click:function(t){e.modifyUserName()}}},[e._v("決定䁥稱")])],1)],1),e._v(" "),r("Form",[r("FormItem",{attrs:{label:"修改密碼",inline:""}},[r("i-switch",{model:{value:e.userPassword.isOpen,callback:function(t){e.$set(e.userPassword,"isOpen",t)},expression:"userPassword.isOpen"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v("開")]),e._v(" "),r("span",{attrs:{slot:"close"},slot:"close"},[e._v("關")])])],1)],1),e._v(" "),e.userPasswordMode?r("Form",{ref:"UpdatePwd",staticStyle:{"max-width":"300px"},attrs:{model:e.UpdatePwd,rules:e.UpdatePwdRule,"label-position":"top"}},[r("FormItem",{attrs:{label:"請輸入密碼",prop:"password"}},[r("Input",{attrs:{type:"password"},model:{value:e.UpdatePwd.password,callback:function(t){e.$set(e.UpdatePwd,"password",t)},expression:"UpdatePwd.password"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請輸入新密碼",prop:"newPassword"}},[r("Input",{attrs:{type:"password"},model:{value:e.UpdatePwd.newPassword,callback:function(t){e.$set(e.UpdatePwd,"newPassword",t)},expression:"UpdatePwd.newPassword"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請再次確認新密碼",prop:"newPasswordCheck"}},[r("Input",{attrs:{type:"password"},model:{value:e.UpdatePwd.newPasswordCheck,callback:function(t){e.$set(e.UpdatePwd,"newPasswordCheck",t)},expression:"UpdatePwd.newPasswordCheck"}})],1),e._v(" "),r("FormItem",{staticClass:"sumitArea"},[r("Button",{attrs:{type:"primary"},on:{click:function(t){e.updatePwd()}}},[e._v("修改密碼")])],1)],1):e._e(),e._v(" "),r("Form",[r("FormItem",{attrs:{label:"修改二級密碼",inline:""}},[r("i-switch",{model:{value:e.walletPassword.isOpen,callback:function(t){e.$set(e.walletPassword,"isOpen",t)},expression:"walletPassword.isOpen"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v("開")]),e._v(" "),r("span",{attrs:{slot:"close"},slot:"close"},[e._v("關")])])],1)],1),e._v(" "),e.walletPasswordMode?r("Form",{ref:"UpdateWalletPwd",staticStyle:{"max-width":"300px"},attrs:{model:e.UpdateWalletPwd,rules:e.UpdateWalletPwdRule,"label-position":"top"}},[r("FormItem",{attrs:{label:"請輸入二級密碼",prop:"password"}},[r("Input",{attrs:{type:"password"},model:{value:e.UpdateWalletPwd.password,callback:function(t){e.$set(e.UpdateWalletPwd,"password",t)},expression:"UpdateWalletPwd.password"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請輸入新二級密碼",prop:"newPassword"}},[r("Input",{attrs:{type:"password"},model:{value:e.UpdateWalletPwd.newPassword,callback:function(t){e.$set(e.UpdateWalletPwd,"newPassword",t)},expression:"UpdateWalletPwd.newPassword"}})],1),e._v(" "),r("FormItem",{attrs:{label:"請再次確認新二級密碼",prop:"newPasswordCheck"}},[r("Input",{attrs:{type:"password"},model:{value:e.UpdateWalletPwd.newPasswordCheck,callback:function(t){e.$set(e.UpdateWalletPwd,"newPasswordCheck",t)},expression:"UpdateWalletPwd.newPasswordCheck"}})],1),e._v(" "),r("FormItem",{staticClass:"sumitArea"},[r("Button",{attrs:{type:"primary"},on:{click:function(t){e.updateWalletPwd()}}},[e._v("修改二級密碼")])],1)],1):e._e(),e._v(" "),r("Form",[r("FormItem",{attrs:{label:"設定錢包位址",inline:""}},[r("i-switch",{model:{value:e.setWalletAddress.isOpen,callback:function(t){e.$set(e.setWalletAddress,"isOpen",t)},expression:"setWalletAddress.isOpen"}},[r("span",{attrs:{slot:"open"},slot:"open"},[e._v("開")]),e._v(" "),r("span",{attrs:{slot:"close"},slot:"close"},[e._v("關")])])],1)],1),e._v(" "),e.walletAddressMode?e._l(e.wallet,function(t,a){return r("Form",{key:a,ref:"UpdateGem"+t.id+"Addr",refInFor:!0,staticStyle:{"max-width":"500px"},attrs:{model:e.addrGroup[t.id],rules:e.addrRuleGroup[t.id],"label-width":80}},[r("FormItem",{attrs:{label:""+t.name,prop:"address"}},[r("Row",[r("Col",{attrs:{span:"20"}},[r("Input",{attrs:{type:"text",placeholder:"請輸入"+t.name+"錢包位址"},model:{value:e.addrGroup[t.id].address,callback:function(r){e.$set(e.addrGroup[t.id],"address",r)},expression:"addrGroup[wallet.id].address"}})],1),e._v(" "),r("Col",{attrs:{span:"1"}},[e._v(" ")]),e._v(" "),r("Col",{attrs:{span:"3"}},[r("Button",{attrs:{type:"primary"},on:{click:function(r){e.updateWalletAddr(t.id)}}},[e._v("儲存")])],1)],1)],1)],1)}):e._e(),e._v(" "),r("h2",[e._v("夢寶龍 × "+e._s(this.$store.getters.paging("dragon","activeDragon").total))]),e._v(" "),r("Page",{attrs:{total:e.pagingDragon.total,"page-size":e.pagingDragon.pre_page,simple:"",size:"small"},on:{"on-change":function(t){e.changeDragonPage(t)}}}),e._v(" "),r("Table",{attrs:{columns:e.columnsDragon,data:e.dragon}})],2)},staticRenderFns:[]};var ye=r("VU/8")(_e,xe,!1,function(e){r("ir37")},null,null).exports,ke={data:function(){return{currOperatable:"2",operatable_type:{2:{label:"夢寶龍",sign:"DragonColumns"},3:{label:"夢寶樹",sign:"TreeColumns"}},actionType:["購買","修改","激活","召回（錢包）","轉賬（美金）"],TreeColumns:[{title:"時間",key:"created_at",minWidth:150},{title:"操作者䁥稱",key:"operator_name",minWidth:100},{title:"操作行為",key:"action",width:120},{title:"物品",key:"item",width:100},{title:"接受人䁥稱",key:"user_name",minWidth:100}],DragonColumns:[{title:"時間",key:"created_at",minWidth:150},{title:"操作者暱稱",key:"operator_name",minWidth:100},{title:"操作行為",key:"action",width:120},{title:"物品",key:"item",width:100},{title:"接受人暱稱",key:"user_name",minWidth:100}]}},computed:{eventsLog:function(){var e=this;return this.$store.getters.eventsLog.data.map(function(t){return t.action=""+e.actionType[t.type],t.item=""+e.operatable_type[t.operatable_type].label,2===t.operatable_type&&1===t.result_data.type&&(t.item="小夢寶龍"),t.operator_name=l()({name:"系統"},t.operator).name,t.user_name=t.user.name,t})},paging:function(){return this.$store.getters.paging("user","eventsLog")},columns1:function(){return this[""+this.operatable_type[this.currOperatable].sign]}},methods:{changePage:function(e){var t=this;return f()(d.a.mark(function r(){var a;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return(a=new URLSearchParams).append("operatable_type",t.currOperatable),a.append("type[]","0"),a.append("type[]","2"),r.next=6,t.$store.dispatch("EventsLog",{nextIndex:e,searchParams:a});case 6:case"end":return r.stop()}},r,t)}))()},changeType:function(){var e=this;return f()(d.a.mark(function t(){var r,a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new URLSearchParams).append("operatable_type",e.currOperatable),a="1",t.next=5,e.$store.dispatch("EventsLog",{nextIndex:a,searchParams:r});case 5:case"end":return t.stop()}},t,e)}))()}}},be={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"請選擇物品種類"},on:{"on-change":function(t){e.changeType()}},model:{value:e.currOperatable,callback:function(t){e.currOperatable=t},expression:"currOperatable"}},e._l(e.operatable_type,function(t,a){return r("Option",{key:a,attrs:{value:a}},[e._v(e._s(t.label))])})),e._v(" "),r("Page",{attrs:{total:e.paging.total,"page-size":e.paging.pre_page,simple:""},on:{"on-change":function(t){e.changePage(t)}}}),e._v(" "),r("Table",{attrs:{stripe:"",columns:e.columns1,data:e.eventsLog}})],1)},staticRenderFns:[]};var $e=r("VU/8")(ke,be,!1,function(e){r("LzdZ")},null,null).exports,Pe={data:function(){return{selectedGem:4,actionType:["初始化（建立）","修改","激活","召回（錢包）","轉賬（美金）"],columns1:[{title:"時間",key:"created_at",minWidth:150},{title:"操作者䁥稱",key:"operator_name",minWidth:100},{title:"操作行為",key:"action",width:120},{title:"物品",key:"item",width:100},{title:"金額",key:"delta_amount",align:"right",width:120},{title:"餘額",key:"amount",align:"right",width:120},{title:"接受人䁥稱",key:"user_name",minWidth:100}]}},computed:{selectIcon:function(){return"gem"+this.selectedGem},walletLog:function(){var e=this;return this.$store.getters.walletLog.data.map(function(t){return t.action=t.sub_type_string||e.actionType[t.type],t.item=""+e.$store.getters.gems[t.result_data.gem],t.amount=t.result_data.amount,t.delta_amount=null!==t.delta?""+t.delta.amount:"0",t.operator_name=t.operator?t.operator.name:"",t.user_name=t.user?t.user.name:"",t})},paging:function(){return this.$store.getters.paging("wallet","walletLog")},ids:function(){var e=this,t=this.$store.getters.wallet.map(function(t){return t.title=""+e.$store.getters.gems[t.gem],t});return t.splice(this.$store.getters.gems.length),t},currOperatableId:{get:function(){var e=this;return this.$store.getters.wallet.filter(function(t){return t.gem===e.selectedGem}).shift().id},set:function(e){this.selectedGem=this.$store.getters.wallet.filter(function(t){return t.id===e}).shift().gem}}},methods:{changePage:function(e){var t=this;return f()(d.a.mark(function r(){var a;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return(a=new URLSearchParams).append("operatable_type","1"),t.currOperatableId&&a.append("operatable_id",t.currOperatableId),r.next=5,t.$store.dispatch("WalletLog",{nextIndex:e,searchParams:a});case 5:case"end":return r.stop()}},r,t)}))()},changeType:function(){var e=this;return f()(d.a.mark(function t(){var r,a;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new URLSearchParams).append("operatable_type","1"),e.currOperatableId&&r.append("operatable_id",e.currOperatableId),a="1",t.next=6,e.$store.dispatch("WalletLog",{nextIndex:a,searchParams:r});case 6:case"end":return t.stop()}},t,e)}))()}}},Te={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Select",{staticClass:"select-point-type",class:e.selectIcon,staticStyle:{width:"200px"},attrs:{placeholder:"請選擇物品 Id"},on:{"on-change":function(t){e.changeType()}},model:{value:e.currOperatableId,callback:function(t){e.currOperatableId=t},expression:"currOperatableId"}},e._l(e.ids,function(t){return r("Option",{key:t.id,class:"gem"+(t.id-1),attrs:{value:t.id}},[e._v("\n        "+e._s(t.title)+"\n      ")])})),e._v(" "),r("Page",{attrs:{total:e.paging.total,"page-size":e.paging.pre_page,simple:"",size:"small"},on:{"on-change":function(t){e.changePage(t)}}}),e._v(" "),r("Table",{attrs:{stripe:"",columns:e.columns1,data:e.walletLog}})],1)},staticRenderFns:[]};var Ce=r("VU/8")(Pe,Te,!1,function(e){r("Bsxy")},null,null).exports,Ie={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h4",[e._v("我的多喜寶石")]),e._v(" "),r("p",[r("span",{staticClass:"wallet-value"},[e._v(e._s(e.currentGem))]),e._v("點")]),e._v(" "),r("Tabs",{attrs:{value:"name1"}},[r("TabPane",{attrs:{label:"寶石商品",icon:"waterdrop"}},[r("span",{staticClass:"temp"},[e._v("Coming Soon...")])]),e._v(" "),r("TabPane",{attrs:{label:"3C商品",icon:"iphone"}},[r("span",{staticClass:"temp"},[e._v("Coming Soon...")])]),e._v(" "),r("TabPane",{attrs:{label:"地產商品",icon:"home"}},[r("span",{staticClass:"temp"},[e._v("Coming Soon...")])])],1)],1)},staticRenderFns:[]};var Ue=r("VU/8")({name:"Shopping",data:function(){return{}},computed:{currentGem:function(){return this.$store.getters.wallet.find(function(e){return 1===e.gem}).amount}}},Ie,!1,function(e){r("m79k")},null,null).exports,Le={name:"ApplyCard",data:function(){return{statusLookUp:{0:"審核中"},applyCard:{name:"",address:"",phone:""},applyCardRule:{name:[{required:!0,message:"請填入收件人姓名",trigger:"blur"}],address:[{required:!0,message:"請填入聯絡地址",trigger:"blur"}],phone:[{required:!0,message:"請填入電話號碼",trigger:"blur"}]},applyListCol:[{title:"申請編號",key:"id",width:120},{title:"收件人姓名",key:"nickname",width:120},{title:"收件人地址",key:"address",width:240},{title:"收件人電話",key:"phone",width:160},{title:"目前狀態",key:"status",width:100},{title:"建立時間",key:"updated_at",width:120}]}},computed:{applyList:function(){var e=this;return this.$store.getters.applyList.map(function(t){return t.status=e.statusLookUp[t.status],t})},paging:function(){return this.$store.getters.paging("wallet","applyList")}},methods:{handleSubmit:function(e){var t,r=this;this.$refs[e].validate((t=f()(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=15;break}return a={address:r.applyCard.address,nickname:r.applyCard.name,phone:r.applyCard.phone},e.prev=2,e.next=5,r.$store.dispatch("ApplyCard",a);case 5:r.handleReset("ApplyCard"),r.$store.dispatch("GetCardApplyList"),r.$Message.success("申請成功！請等待審核通知"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),r.$Message.error(e.t0.response.data.message);case 13:e.next=16;break;case 15:r.$Message.error("請確實填寫資料!");case 16:case"end":return e.stop()}},e,r,[[2,10]])})),function(e){return t.apply(this,arguments)}))},handleReset:function(e){this.$refs[e].resetFields()}}},Se={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Form",{ref:"ApplyCard",staticStyle:{"max-width":"300px"},attrs:{model:e.applyCard,rules:e.applyCardRule,"label-position":"top"}},[r("FormItem",[r("h4",[e._v("申請卡片")])]),e._v(" "),r("FormItem",{attrs:{label:"收件人姓名",prop:"name"}},[r("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"請輸入收件人姓名",clearable:""},model:{value:e.applyCard.name,callback:function(t){e.$set(e.applyCard,"name",t)},expression:"applyCard.name"}})],1),e._v(" "),r("FormItem",{attrs:{label:"收件人地址",prop:"address"}},[r("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"請輸入聯絡地址",clearable:""},model:{value:e.applyCard.address,callback:function(t){e.$set(e.applyCard,"address",t)},expression:"applyCard.address"}})],1),e._v(" "),r("FormItem",{attrs:{label:"收件人電話",prop:"phone"}},[r("Input",{attrs:{type:"text",placeholder:"請輸入聯絡電話"},model:{value:e.applyCard.phone,callback:function(t){e.$set(e.applyCard,"phone",t)},expression:"applyCard.phone"}})],1),e._v(" "),r("FormItem",[r("Button",{attrs:{type:"error"},on:{click:function(t){e.handleSubmit("ApplyCard")}}},[e._v("提交申請單")])],1)],1),e._v(" "),r("h4",[e._v("申請狀態")]),e._v(" "),r("Page",{attrs:{current:e.paging.curr_page,total:e.paging.total,simple:""},on:{"on-change":function(t){e.changePage(t)}}}),e._v(" "),r("Table",{attrs:{stripe:"",columns:e.applyListCol,data:e.applyList}})],1)},staticRenderFns:[]};var Ae=r("VU/8")(Le,Se,!1,function(e){r("1XY+")},null,null).exports,Ge={name:"ApplyCard",data:function(){var e=this;return{toGem:"7",transferCard:{fromValue:0,toValue:0,password:""},transferCardRule:{fromValue:[{required:!0,type:"number",validator:function(t,r,a){r<=0&&a(new Error("轉換數量必須大於 0")),r%e.fromLimit!=0&&a(new Error("轉換數量必須是 "+e.fromLimit+" 的倍數")),a()},trigger:"blur"}],password:[{required:!0,validator:function(e,t,r){(""===t||t.length<6)&&r(new Error("填入密碼，符合長度 6 個字元以上")),r()},trigger:"blur"}]},transferApplyCols:[{title:"申請編號",key:"id"},{title:"匯率",key:"rate"},{title:"數量",key:"amount"},{title:"目前狀態",key:"status"},{title:"建立時間",key:"updated_at"}],statusLookUp:{0:"審核中"}}},computed:{currentGem:function(){return this.$store.getters.wallet.find(function(e){return 0===e.gem}).amount},walletAddress:function(){return this.$store.getters.wallet[this.toGem].external_address},transferRate:function(){return"1:1"},fromValue:{get:function(){return this.transferCard.fromValue},set:function(e){this.transferCard.fromValue=Number(e),this.transferCard.toValue=Number((e*this.toFromRatio).toFixed(1))}},toValue:{get:function(){return this.transferCard.toValue},set:function(e){this.transferCard.toValue=Number(e),this.transferCard.fromValue=Number((e/this.toFromRatio).toFixed(1))}},fromLimit:function(){return this.transferRate.charAt(0)},toLimit:function(){return this.transferRate.charAt(2)},toFromRatio:function(){return this.toLimit/this.fromLimit},transferCardList:function(){var e=this,t=this.$store.getters.cardTransferList.data;return t.map(function(t){t.status=e.statusLookUp[t.status]}),t},paging:function(){return this.$store.getters.paging("wallet","cardTransferList")}},methods:{handleSubmit:function(e){var t,r=this;this.$refs[e].validate((t=f()(d.a.mark(function e(t){var a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=15;break}return a={to_gem:r.toGem,amount:r.transferCard.fromValue,wallet_password:r.transferCard.password},n=0,e.prev=3,e.next=6,r.$store.dispatch("ApplyCardTransfer",{mainGemValue:n,data:a});case 6:r.$Message.success("轉出成功!"),r.$store.dispatch("GetCardTransferList",{mainGemValue:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),r.$Message.error(e.t0.response.data.message);case 13:e.next=16;break;case 15:r.$Message.error("請確實填寫資料!");case 16:case"end":return e.stop()}},e,r,[[3,10]])})),function(e){return t.apply(this,arguments)}))},handleReset:function(e){this.$refs[e].resetFields()},changePage:function(e){var t=this;return f()(d.a.mark(function r(){var a,n;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=0,n=new URLSearchParams,r.next=4,t.$store.dispatch("GetCardTransferList",{mainGemValue:a,nextIndex:e,searchParams:n});case 4:case"end":return r.stop()}},r,t)}))()}}},We={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h4",[e._v("我的七彩寶石")]),e._v(" "),r("p",[r("span",{staticClass:"wallet-value"},[e._v(e._s(e.currentGem))]),e._v("點")]),e._v(" "),r("Form",{ref:"transferCard",staticStyle:{"max-width":"300px"},attrs:{model:e.transferCard,rules:e.transferCardRule,"label-position":"top"}},[r("FormItem",{attrs:{label:"卡片號碼",prop:"walletAddress"}},[r("Input",{attrs:{type:"text",readonly:""},model:{value:e.walletAddress,callback:function(t){e.walletAddress=t},expression:"walletAddress"}})],1),e._v(" "),r("FormItem",{attrs:{label:"兌換比例: "+e.transferRate}},[r("Row",[r("Col",{attrs:{span:"11"}},[r("FormItem",{attrs:{prop:"fromValue"}},[r("InputNumber",{attrs:{min:0},model:{value:e.fromValue,callback:function(t){e.fromValue=t},expression:"fromValue"}}),e._v(" "),r("span",[e._v("七彩寶石")])],1)],1),e._v(" "),r("Col",{attrs:{span:"2"}},[e._v("->")]),e._v(" "),r("Col",{attrs:{span:"11"}},[r("FormItem",{attrs:{prop:"toValue"}},[r("InputNumber",{attrs:{min:0},model:{value:e.toValue,callback:function(t){e.toValue=t},expression:"toValue"}}),e._v(" "),r("span",[e._v("卡片")])],1)],1)],1)],1),e._v(" "),r("FormItem",{attrs:{label:"請輸入二級密碼",prop:"password"}},[r("Input",{attrs:{type:"password"},model:{value:e.transferCard.password,callback:function(t){e.$set(e.transferCard,"password",t)},expression:"transferCard.password"}})],1),e._v(" "),r("FormItem",[r("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("transferCard")}}},[e._v("申請轉換")])],1)],1),e._v(" "),r("h4",[e._v("寶石轉換申請狀態")]),e._v(" "),r("Table",{attrs:{columns:e.transferApplyCols,data:e.transferCardList}})],1)},staticRenderFns:[]};var Ee=r("VU/8")(Ge,We,!1,function(e){r("fZyV")},null,null).exports,Fe={name:"PointToC",data:function(){var e=this;return{fromGem:4,toGem:5,transferPoint:{fromValue:0,toValue:0,password:""},transferPointRule:{fromValue:[{required:!0,type:"number",validator:function(t,r,a){r<=0&&a(new Error("申購數量必須大於 0")),r%e.fromLimit!=0&&a(new Error("申購數量必須是 "+e.fromLimit+" 的倍數")),a()},trigger:"blur"}],toValue:[{required:!0,type:"number",validator:function(t,r,a){r<=0&&a(new Error("申購數量必須大於 0")),r>e.limit.remain&&a(new Error("申購數量不得超過剩餘可申購量")),a()},trigger:"blur"}],password:[{required:!0,validator:function(e,t,r){(""===t||t.length<6)&&r(new Error("填入密碼，符合長度 6 個字元以上")),r()},trigger:"blur"}]},transferApplyCols:[{title:"匯率",key:"rate"},{title:"數量",key:"amount"},{title:"目前狀態",key:"status"},{title:"建立時間",key:"updated_at"}],statusLookUp:{0:"審核中"}}},computed:{currentGem:function(){var e=this;return this.$store.getters.wallet.find(function(t){return t.gem===e.fromGem}).amount},walletAddress:function(){return this.$store.getters.wallet[this.toGem].external_address},transferRate:function(){var e=this.fromGem+":"+this.toGem;return this.$store.getters.walletTransferRate[e].split(":").join(" : ")},limit:function(){return this.$store.getters.walletTransferLimit},limitRatio:function(){return 100*Number((this.limit.used/this.limit.max).toFixed(2))},fromValue:{get:function(){return this.transferPoint.fromValue},set:function(e){this.transferPoint.fromValue=Number(e),this.transferPoint.toValue=Number((e*this.toFromRatio).toFixed(1))}},toValue:{get:function(){return this.transferPoint.toValue},set:function(e){this.transferPoint.toValue=Number(e),this.transferPoint.fromValue=Number((e/this.toFromRatio).toFixed(1))}},fromLimit:function(){var e=this.transferRate.indexOf(":");return this.transferRate.slice(0,e)},toLimit:function(){var e=this.transferRate.indexOf(":")+1;return this.transferRate.slice(e,this.transferRate.length)},toFromRatio:function(){return this.toLimit/this.fromLimit},transferPointList:function(){var e=this,t=this.$store.getters.pointTransferList.data;return t&&t.map(function(t){t.status=e.statusLookUp[t.status]}),t},paging:function(){return this.$store.getters.paging("wallet","pointTransferList")}},methods:{handleSubmit:function(e){var t,r=this;this.$refs[e].validate((t=f()(d.a.mark(function e(t){var a,n,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=19;break}return a={to_gem:r.toGem,amount:r.transferPoint.fromValue,wallet_password:r.transferPoint.password},n=r.fromGem,s=r.toGem,e.prev=4,e.next=7,r.$store.dispatch("ApplyPointTransfer",{mainGemValue:n,data:a});case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(4),r.$Message.error(e.t0.response.data.message),e.abrupt("return");case 13:r.$Message.success("轉出成功!"),r.$store.dispatch("GetPointTransferList",{mainGemValue:n}),r.$store.dispatch("GetTransferLimit",{mainGemValue:n,toValue:s}),r.handleReset("transferPoint"),e.next=20;break;case 19:r.$Message.error("請確實填寫資料!");case 20:case"end":return e.stop()}},e,r,[[4,9]])})),function(e){return t.apply(this,arguments)}))},handleReset:function(e){this.$refs[e].resetFields()},changePage:function(e){var t=this;return f()(d.a.mark(function r(){var a,n;return d.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.fromGem,n=new URLSearchParams,r.next=4,t.$store.dispatch("GetPointTransferList",{mainGemValue:a,nextIndex:e,searchParams:n});case 4:case"end":return r.stop()}},r,t)}))()}}},Re={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h4",[e._v("我的夢寶積分")]),e._v(" "),r("p",[r("span",{staticClass:"wallet-value"},[e._v(e._s(e.currentGem))]),e._v("點")]),e._v(" "),r("Form",{ref:"transferPoint",staticStyle:{"max-width":"300px"},attrs:{model:e.transferPoint,rules:e.transferPointRule,"label-position":"top"}},[r("FormItem",{attrs:{label:"碳鏈錢包地址",prop:"walletAddress"}},[r("Input",{attrs:{type:"text",readonly:""},model:{value:e.walletAddress,callback:function(t){e.walletAddress=t},expression:"walletAddress"}})],1),e._v(" "),e.limit.has_limit?r("FormItem",{attrs:{label:"已申購數量 / 可申購總量",prop:"transferrRatio"}},[r("span",[e._v(e._s(e.limit.used+" / "+e.limit.max))]),e._v(" "),r("Progress",{attrs:{percent:e.limitRatio}})],1):e._e(),e._v(" "),r("FormItem",{attrs:{label:"兌換比例: "+e.transferRate}},[r("span",[e._v("剩餘可申購數量："+e._s(e.limit.remain))]),e._v(" "),r("Row",[r("Col",{attrs:{span:"11"}},[r("FormItem",{attrs:{prop:"fromValue"}},[r("InputNumber",{attrs:{min:0},model:{value:e.fromValue,callback:function(t){e.fromValue=t},expression:"fromValue"}}),e._v(" "),r("span",[e._v("夢寶積分")])],1)],1),e._v(" "),r("Col",{attrs:{span:"2"}},[e._v("->")]),e._v(" "),r("Col",{attrs:{span:"11"}},[r("FormItem",{attrs:{prop:"toValue"}},[r("InputNumber",{attrs:{min:0},model:{value:e.toValue,callback:function(t){e.toValue=t},expression:"toValue"}}),e._v(" "),r("span",[e._v("碳鏈")])],1)],1)],1)],1),e._v(" "),r("FormItem",{attrs:{label:"請輸入二級密碼",prop:"password"}},[r("Input",{attrs:{type:"password"},model:{value:e.transferPoint.password,callback:function(t){e.$set(e.transferPoint,"password",t)},expression:"transferPoint.password"}})],1),e._v(" "),r("FormItem",[r("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("transferPoint")}}},[e._v("申購碳鏈")])],1)],1),e._v(" "),r("h4",[e._v("碳鏈申購狀態")]),e._v(" "),r("Table",{attrs:{columns:e.transferApplyCols,data:e.transferPointList}})],1)},staticRenderFns:[]};var Me=r("VU/8")(Fe,Re,!1,function(e){r("tsnW")},null,null).exports,Ve={name:"QRCodes",mounted:function(){},data:function(){return{}},computed:{childInfo:function(){var e=this;if(this.$store.getters.isExist("user","childAccount")){var t=this.$store.getters.childAccount.map(function(t){return{id:t.id,url:e.$store.getters.host+"/#/Login?upline_id="+t.id}}),r=this.$store.getters.myId,a=this.$store.getters.host+"/#/Login?upline_id="+r;return t.unshift({id:r,url:a}),t}return[]}},methods:{renderQRcode:function(e,t){var r=le()(0,"L");return r.addData(e),r.make(),r.createDataURL(5)}}},De={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"qr-container"},e._l(e.childInfo,function(t,a){return r("div",{key:a,staticClass:"qr-single"},[r("h4",[e._v(e._s(t.id))]),e._v(" "),r("img",{attrs:{id:t.id,src:e.renderQRcode(t.url,t.id)}})])}))},staticRenderFns:[]};var Ne=r("VU/8")(Ve,De,!1,function(e){r("bDtU")},"data-v-42f89490",null).exports,Oe=this;a.default.use(C.a);var qe,Be,Qe,ze,je,He,Xe,Ye,Ze,Je,Ke,et,tt,rt,at,nt,st,it=new C.a({routes:[{path:"/",beforeEnter:function(e,t,r){y.a.get("dgemToken")?r({path:"/Main"}):r({path:"/Login"})}},{path:"/Login",name:"Login",component:he},{path:"/ForgetPW",name:"ForgetPW",component:we},{path:"/Main",name:"Main",component:A,redirect:"/Main/UserProfile",children:[{path:"notStart",name:"notStart",component:F},{path:"Shopping",name:"Shopping",component:Ue,beforeEnter:function(){var e=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!it.app.$store.getters.self.is_child_account){e.next=3;break}return a({path:"/Main/ChildAccount"}),e.abrupt("return");case 3:return e.next=5,it.app.$store.dispatch("WalletPage");case 5:a();case 6:case"end":return e.stop()}},e,Oe)}));return function(t,r,a){return e.apply(this,arguments)}}()},{path:"Unverified",name:"Unverified",component:W,beforeEnter:(nt=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it.app.$store.dispatch("getOnlyMe");case 2:a();case 3:case"end":return e.stop()}},e,Oe)})),function(e,t,r){return nt.apply(this,arguments)})},{path:"UserProfile",name:"UserProfile",component:ye,beforeEnter:(at=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it.app.$store.dispatch("WalletPage");case 2:it.app.$store.dispatch("goToActiveDragonPage",{nextIndex:1}),a();case 4:case"end":return e.stop()}},e,Oe)})),function(e,t,r){return at.apply(this,arguments)})},{path:"Dragon",name:"Dragon",component:N,beforeEnter:(rt=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!it.app.$store.getters.self.is_child_account){e.next=3;break}return a({path:"/Main/ChildAccount"}),e.abrupt("return");case 3:return e.next=5,it.app.$store.dispatch("setDragonCandidate");case 5:return e.next=7,it.app.$store.dispatch("ListDragonSummary");case 7:it.app.$store.dispatch("WalletPage"),it.app.$store.dispatch("GetDragonPrice"),a();case 10:case"end":return e.stop()}},e,Oe)})),function(e,t,r){return rt.apply(this,arguments)})},{path:"Tree",name:"Tree",component:B,beforeEnter:(tt=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!it.app.$store.getters.self.is_child_account){e.next=3;break}return a({path:"/Main/ChildAccount"}),e.abrupt("return");case 3:return e.next=5,it.app.$store.dispatch("setTreeCandidate");case 5:return e.next=7,it.app.$store.dispatch("ListTreeSummary");case 7:it.app.$store.dispatch("setAvailTreeType"),it.app.$store.dispatch("WalletPage"),it.app.$store.dispatch("GetTreePrice"),a();case 11:case"end":return e.stop()}},e,Oe)})),function(e,t,r){return tt.apply(this,arguments)})},{path:"Activating",name:"Activating",component:j,beforeEnter:(et=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it.app.$store.dispatch("goToActiveTreePage",{nextIndex:1});case 2:a();case 3:case"end":return e.stop()}},e,Oe)})),function(e,t,r){return et.apply(this,arguments)})},{path:"QRCodes",name:"QRCodes",component:Ne,beforeEnter:(Ke=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:it.app.$store.dispatch("goToQRCodePage",{nextIndex:1}),a();case 2:case"end":return e.stop()}},e,Oe)})),function(e,t,r){return Ke.apply(this,arguments)})},{path:"ApplyCard",name:"ApplyCard",component:Ae,beforeEnter:(Je=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!it.app.$store.getters.self.is_child_account){e.next=3;break}return a({path:"/Main/ChildAccount"}),e.abrupt("return");case 3:return e.next=5,it.app.$store.dispatch("GetCardApplyList");case 5:a();case 6:case"end":return e.stop()}},e,Oe)})),function(e,t,r){return Je.apply(this,arguments)})},{path:"ChildAccount",name:"ChildAccount",component:Y,beforeEnter:(Ze=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it.app.$store.dispatch("whoIsMom");case 2:it.app.$store.dispatch("goToChildAccountPage",{nextIndex:1}),a();case 4:case"end":return e.stop()}},e,Oe)})),function(e,t,r){return Ze.apply(this,arguments)})},{path:"Wallet",name:"Wallet",component:J,beforeEnter:(Ye=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it.app.$store.dispatch("WalletPage");case 2:a();case 3:case"end":return e.stop()}},e,Oe)})),function(e,t,r){return Ye.apply(this,arguments)})},{path:"TransferPoint",name:"TransferPoint",component:ne,beforeEnter:(Xe=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!it.app.$store.getters.self.is_child_account){e.next=3;break}return a({path:"/Main/ChildAccount"}),e.abrupt("return");case 3:return e.next=5,it.app.$store.dispatch("WalletPage");case 5:a();case 6:case"end":return e.stop()}},e,Oe)})),function(e,t,r){return Xe.apply(this,arguments)})},{path:"PointToC",name:"PointToC",component:Me,beforeEnter:(He=f()(d.a.mark(function e(t,r,a){var n,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!it.app.$store.getters.self.is_child_account){e.next=3;break}return a({path:"/Main/ChildAccount"}),e.abrupt("return");case 3:return n=4,s=5,it.app.$store.dispatch("GetTransferLimit",{mainGemValue:n,toValue:s}),e.next=8,it.app.$store.dispatch("WalletTransferRate");case 8:return e.next=10,it.app.$store.dispatch("GetPointTransferList",{mainGemValue:n});case 10:return e.next=12,it.app.$store.dispatch("WalletPage");case 12:a();case 13:case"end":return e.stop()}},e,Oe)})),function(e,t,r){return He.apply(this,arguments)})},{path:"TransferCard",name:"TransferCard",component:Ee,beforeEnter:(je=f()(d.a.mark(function e(t,r,a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!it.app.$store.getters.self.is_child_account){e.next=3;break}return a({path:"/Main/ChildAccount"}),e.abrupt("return");case 3:return n=0,e.next=6,it.app.$store.dispatch("GetCardTransferList",{mainGemValue:n});case 6:return e.next=8,it.app.$store.dispatch("WalletPage");case 8:a();case 9:case"end":return e.stop()}},e,Oe)})),function(e,t,r){return je.apply(this,arguments)})},{path:"TransferGems/:gem",name:"TransferGems",component:ce,beforeEnter:(ze=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!it.app.$store.getters.self.is_child_account){e.next=3;break}return a({path:"/Main/ChildAccount"}),e.abrupt("return");case 3:return it.app.$store.dispatch("WalletPage"),it.app.$store.dispatch("WalletTransferMap"),e.next=7,it.app.$store.dispatch("WalletTransferRate");case 7:a();case 8:case"end":return e.stop()}},e,Oe)})),function(e,t,r){return ze.apply(this,arguments)})},{path:"Group",name:"Group",component:ee,beforeEnter:(Qe=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it.app.$store.dispatch("userDownLines",{idUser:it.app.$store.getters.myId});case 2:it.app.$store.dispatch("whoAmI"),a();case 4:case"end":return e.stop()}},e,Oe)})),function(e,t,r){return Qe.apply(this,arguments)})},{path:"EventsLog",name:"EventsLog",component:$e,beforeEnter:(Be=f()(d.a.mark(function e(t,r,a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new URLSearchParams).append("operatable_type","2"),n.append("type[]","0"),n.append("type[]","2"),e.next=6,it.app.$store.dispatch("EventsLog",{nextIndex:1,searchParams:n});case 6:a();case 7:case"end":return e.stop()}},e,Oe)})),function(e,t,r){return Be.apply(this,arguments)})},{path:"WalletLog",name:"WalletLog",component:Ce,beforeEnter:(qe=f()(d.a.mark(function e(t,r,a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it.app.$store.dispatch("WalletPage");case 2:return(n=new URLSearchParams).append("operatable_type","1"),n.append("operatable_id",it.app.$store.getters.wallet.filter(function(e){return 4===e.gem}).shift().id),e.next=7,it.app.$store.dispatch("WalletLog",{nextIndex:1,searchParams:n});case 7:a();case 8:case"end":return e.stop()}},e,Oe)})),function(e,t,r){return qe.apply(this,arguments)})}]}]});it.beforeEach((st=f()(d.a.mark(function e(t,r,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.path.includes("/Main/")||"Unverified"===t.name){e.next=17;break}if(!I.checkLogin()){e.next=14;break}if(r.name&&"Login"!==r.name){e.next=11;break}return e.prev=3,e.next=6,it.app.$store.dispatch("getOnlyMe");case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),401===e.t0.response.status&&(I.removeToken(),it.app.$Message.error("認證過期，請重新登入"),a("/Login"));case 11:I.verifyEmail()?a():I.checkChild()?a():a({path:"/Main/Unverified"}),e.next=15;break;case 14:a({path:"/Login"});case 15:e.next=18;break;case 17:a();case 18:case"end":return e.stop()}},e,Oe,[[3,8]])})),function(e,t,r){return st.apply(this,arguments)}));var ot=it,ct=r("BTaQ"),ut=r.n(ct);r("+skl"),r("S8AV");a.default.use(ut.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:ot,store:T,components:{App:s},template:"<App/>"})},Obg2:function(e,t){},RM4p:function(e,t){},RQrw:function(e,t){},S8AV:function(e,t){},SW59:function(e,t){},aduo:function(e,t){},bDtU:function(e,t){},fZyV:function(e,t){},gQSG:function(e,t){},ir37:function(e,t){},m79k:function(e,t){},nBMX:function(e,t){},nGoO:function(e,t){},tEyE:function(e,t){},tsnW:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.9a4a3d1a5f502bb08899.js.map